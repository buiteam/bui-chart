define("bui-chart/1.1.0/index",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/chart","bui-chart/1.1.0/src/axis/index","bui-chart/1.1.0/src/series/index","bui-chart/1.1.0/src/plotrange","bui-chart/1.1.0/src/theme","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/plotback","bui-chart/1.1.0/src/seriesgroup","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/activedgroup","bui-chart/1.1.0/src/legend","bui-chart/1.1.0/src/tooltip","bui-chart/1.1.0/src/legenditem","bui-chart/1.1.0/src/axis/base","bui-chart/1.1.0/src/axis/category","bui-chart/1.1.0/src/axis/number","bui-chart/1.1.0/src/axis/time","bui-chart/1.1.0/src/axis/auto","bui-chart/1.1.0/src/axis/circle","bui-chart/1.1.0/src/axis/radius","bui-chart/1.1.0/src/axis/abstract","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/series/base","bui-chart/1.1.0/src/series/line","bui-chart/1.1.0/src/series/area","bui-chart/1.1.0/src/series/column","bui-chart/1.1.0/src/series/scatter","bui-chart/1.1.0/src/series/bubble","bui-chart/1.1.0/src/series/pie","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/series/cartesian","bui-chart/1.1.0/src/series/stacked","bui-chart/1.1.0/src/series/itemgroup"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=r.namespace("Chart");r.mix(a,{Chart:e("bui-chart/1.1.0/src/chart"),Axis:e("bui-chart/1.1.0/src/axis/index"),Series:e("bui-chart/1.1.0/src/series/index"),PlotRange:e("bui-chart/1.1.0/src/plotrange"),Theme:e("bui-chart/1.1.0/src/theme")}),i.exports=a}),define("bui-chart/1.1.0/src/chart",["jquery","bui-common/1.1.0/common","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/plotback","bui-chart/1.1.0/src/seriesgroup","bui-chart/1.1.0/src/theme","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/plotrange","bui-chart/1.1.0/src/mixin/activedgroup","bui-chart/1.1.0/src/legend","bui-chart/1.1.0/src/tooltip","bui-chart/1.1.0/src/axis/index","bui-chart/1.1.0/src/series/index","bui-chart/1.1.0/src/legenditem","bui-chart/1.1.0/src/axis/base","bui-chart/1.1.0/src/axis/category","bui-chart/1.1.0/src/axis/number","bui-chart/1.1.0/src/axis/time","bui-chart/1.1.0/src/axis/auto","bui-chart/1.1.0/src/axis/circle","bui-chart/1.1.0/src/axis/radius","bui-chart/1.1.0/src/axis/abstract","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/series/base","bui-chart/1.1.0/src/series/line","bui-chart/1.1.0/src/series/area","bui-chart/1.1.0/src/series/column","bui-chart/1.1.0/src/series/scatter","bui-chart/1.1.0/src/series/bubble","bui-chart/1.1.0/src/series/pie","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/series/cartesian","bui-chart/1.1.0/src/series/stacked","bui-chart/1.1.0/src/series/itemgroup"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-graphic/1.1.0/index"),n=e("bui-chart/1.1.0/src/plotback"),s=e("bui-chart/1.1.0/src/seriesgroup"),c=e("bui-chart/1.1.0/src/theme"),o=r.Component.Controller.extend([r.Component.UIBase.Bindable],{renderUI:function(){var e=this;e.paint()},clear:function(){var e=this,t=e.get("canvas");t.destroy(),e.set("isPaint",!1)},paint:function(){var e=this;e.get("isPaint")||(e._renderCanvas(),e._renderPlot(),e._renderTitle(),e._renderSeries(),e.get("canvas").sort())},_renderCanvas:function(){var e=this,t=e.get("el"),i=e.get("width")||t.width(),r=e.get("height")||t.height(),n=new a.Canvas({width:i,height:r,render:t});n.chart=e,e.set("canvas",n)},_renderPlot:function(){var e,t,i=this,a=i.get("plotCfg"),s=i.get("canvas"),c=i.get("theme");a=r.mix({},c.plotCfg,a),e=s.addGroup(n,a),t=e.get("plotRange"),i.set("plotRange",t)},_renderTitle:function(){var e=this,t=e.get("title"),i=e.get("subTitle"),a=e.get("theme"),n=e.get("canvas");t&&(null==t.x&&(t.x=n.get("width")/2,t.y=t.y||15),t=r.mix({},a.title,t),n.addShape("label",t)),i&&(null==i.x&&(i.x=n.get("width")/2,i.y=i.y||35),i=r.mix({},a.subTitle,i),n.addShape("label",i))},_getDefaultType:function(){var e=this,t=e.get("seriesOptions"),i="line";return r.each(t,function(e,t){return i=t.replace("Cfg",""),!1}),i},_renderSeries:function(){var e,t=this,i=t.get("theme"),a={},n=t.getAttrVals(),c=t._getDefaultType();r.each(n.series,function(e){e.type||(e.type=c)}),r.mix(!0,a,i,{colors:n.colors,data:n.data,fields:n.fields,plotRange:n.plotRange,series:n.series,seriesOptions:n.seriesOptions,tooltip:n.tooltip,legend:n.legend,xAxis:n.xAxis}),r.isObject(n.yAxis)?r.mix(!0,a,{yAxis:n.yAxis}):r.isArray(n.yAxis)&&(n.yAxis[0]=r.merge(!0,i.yAxis,n.yAxis[0]),a.yAxis=n.yAxis),e=t.get("canvas").addGroup(s,a),t.set("seriesGroup",e)},repaint:function(){var e=this;e.get("seriesGroup").repaint()},getSeries:function(){return this.get("seriesGroup").getSeries()},changeData:function(e){var t=this,i=t.get("seriesGroup");e!==t.get("data")&&t.set("data",e),i.changeData(e)},onLoad:function(){var e=this,t=e.get("store"),i=t.getResult();e.changeData(i)},onAdd:function(){this.onLoad()},onRemove:function(){this.onLoad()},onUpdate:function(){this.onLoad()},onLocalSort:function(){this.onLoad()},destructor:function(){var e=this;e.clear()}},{ATTRS:{canvas:{},colors:{},data:{},legend:{},menu:{},plotCfg:{},plotRange:{},series:{},seriesOptions:{},subTitle:{},title:{},tooltip:{},xAxis:{},yAxis:{},fields:{},theme:{value:c.Base}}},{xclass:"chart"});i.exports=o}),define("bui-chart/1.1.0/src/axis/index",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/axis/base","bui-chart/1.1.0/src/axis/category","bui-chart/1.1.0/src/axis/number","bui-chart/1.1.0/src/axis/time","bui-chart/1.1.0/src/axis/auto","bui-chart/1.1.0/src/axis/circle","bui-chart/1.1.0/src/axis/radius","bui-chart/1.1.0/src/axis/abstract","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels"],function(e){var t=(e("bui-common/1.1.0/common"),e("bui-chart/1.1.0/src/axis/base"));return t.Category=e("bui-chart/1.1.0/src/axis/category"),t.Number=e("bui-chart/1.1.0/src/axis/number"),t.Time=e("bui-chart/1.1.0/src/axis/time"),t.Auto=e("bui-chart/1.1.0/src/axis/auto"),t.Circle=e("bui-chart/1.1.0/src/axis/circle"),t.Radius=e("bui-chart/1.1.0/src/axis/radius"),t}),define("bui-chart/1.1.0/src/series/index",["bui-chart/1.1.0/src/series/base","bui-chart/1.1.0/src/series/line","bui-chart/1.1.0/src/series/area","bui-chart/1.1.0/src/series/column","bui-chart/1.1.0/src/series/scatter","bui-chart/1.1.0/src/series/bubble","bui-chart/1.1.0/src/series/pie","jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/mixin/activedgroup","bui-chart/1.1.0/src/series/cartesian","bui-chart/1.1.0/src/series/stacked","bui-chart/1.1.0/src/series/itemgroup"],function(e){var t=e("bui-chart/1.1.0/src/series/base");return t.Line=e("bui-chart/1.1.0/src/series/line"),t.Area=e("bui-chart/1.1.0/src/series/area"),t.Column=e("bui-chart/1.1.0/src/series/column"),t.Scatter=e("bui-chart/1.1.0/src/series/scatter"),t.Bubble=e("bui-chart/1.1.0/src/series/bubble"),t.Pie=e("bui-chart/1.1.0/src/series/pie"),t}),define("bui-chart/1.1.0/src/plotrange",[],function(e,t,i){function r(e,t){return e>t?t:e}function a(e,t){return e>t?e:t}function n(e,t){this.start=e,this.end=t,this.init()}BUI.augment(n,{init:function(){var e=this;start=e.start,end=e.end;var t=e.tl={};t.x=r(start.x,end.x),t.y=r(start.y,end.y);var i=e.tr={};i.x=a(start.x,end.x),i.y=r(start.y,end.y);var n=e.bl={};n.x=r(start.x,end.x),n.y=a(start.y,end.y);var s=e.br={};s.x=a(start.x,end.x),s.y=a(start.y,end.y);var c=e.cc={};c.x=(s.x-t.x)/2+t.x,c.y=(s.y-t.y)/2+t.y},isInRange:function(e,t){BUI.isObject(e)&&(t=e.y,e=e.x);var i=this,r=i.tl,a=i.br;return e>=r.x&&e<=a.x&&t>=r.y&&t<=a.y},isInVertical:function(e){BUI.isObject(e)&&(e=e.y);var t=this,i=t.tl,r=t.br;return e>=i.y&&e<=r.y},isInHorizontal:function(e){BUI.isObject(e)&&(e=e.x);var t=this,i=t.tl,r=t.br;return e>=i.x&&e<=r.x},getWidth:function(){var e=this.tl,t=this.br;return t.x-e.x},getHeight:function(){var e=this.tl,t=this.br;return t.y-e.y}}),i.exports=n}),define("bui-chart/1.1.0/src/theme",[],function(e,t,i){var r=requrie("bui-common"),a=function(e,t){return a.initTheme(e,t)};a.initTheme=function(e,t){return r.mix(!0,{},e,t)};var n={duration:1e3,line:{"stroke-width":2,"stroke-linejoin":"round","stroke-linecap":"round"},lineActived:{"stroke-width":3},markers:{marker:{radius:3},actived:{radius:6,stroke:"#fff"}},animate:!0};a.Origin=a({plotCfg:{margin:[50]},title:{"font-size":"16px","font-family":"SimSun,Georgia, Times, serif",fill:"#274b6d"},subTitle:{"font-size":14,"font-family":"tahoma,arial,SimSun,Georgia, Times, serif",fill:"#4d759e"},xAxis:{labels:{label:{y:12}}},yAxis:{line:null,tickLine:null,grid:{line:{stroke:"#c0c0c0"}},title:{text:"",rotate:-90,x:-30},position:"left",labels:{label:{x:-12}}},legend:{dy:30},seriesOptions:{lineCfg:n,areaCfg:n,bubbleCfg:{circle:{"stroke-width":1,"fill-opacity":.5},activeCircle:{"stroke-width":2}},pieCfg:{colors:["#5e90c9","#1c2d3f","#a9d052","#a12d2d","#43bbb4","#5a2a94","#fabe3c","#2279dc","#e360e5","#48000c"],item:{stroke:"#fff"},labels:{distance:30,label:{}}}},tooltip:{}}),a.Base=a.initTheme(a.Origin,{colors:["#5e90c9","#1c2d3f","#a9d052","#a12d2d","#43bbb4","#5a2a94","#fabe3c","#2279dc","#e360e5","#48000c"],symbols:["circle","diamond","square","triangle","triangle-down"],plotCfg:{margin:[50,50,100]},seriesOptions:{pieCfg:{colors:["#5e90c9","#1c2d3f","#a9d052","#a12d2d","#43bbb4","#5a2a94","#fabe3c","#2279dc","#e360e5","#48000c"]}}}),a.SmoothBase=a.initTheme(a.Origin,{title:{fill:"#444"},subTitle:{fill:"#999"},xAxis:{line:{"stroke-width":1,stroke:"#a7a7a7"},tickLine:{stroke:"#a7a7a7","stroke-width":1,value:5},labels:{label:{y:12,fill:"#444"}}},yAxis:{grid:{line:{stroke:"#a7a7a7","stroke-dasharray":"."}},title:{text:"",rotate:-90,x:-30,fill:"#444"},position:"left",labels:{label:{x:-12,fill:"#444"}}},plotCfg:{margin:[50,50,100]},colors:["#00a3d7","#6ebb46","#f6c100","#ff6a00","#e32400","#423ba8"],symbols:["circle","diamond","square","triangle","triangle-down"],seriesOptions:{pieCfg:{colors:["#00a3d7","#6ebb46","#f6c100","#ff6a00","#e32400","#423ba8"]}},tooltip:{offset:10,title:{"font-size":"10","text-anchor":"start",x:5,y:15,fill:"#444"},value:{"font-size":"12","font-weight":"normal","text-anchor":"start",fill:"#444"},crossLine:{stroke:"#a7a7a7"}}}),a.Smooth1=a.initTheme(a.SmoothBase),a.Smooth2=a.initTheme(a.SmoothBase,{colors:["#7179cb","#4dceff","#79c850","#ffb65d","#fc694b","#9a9792"],seriesOptions:{pieCfg:{colors:["#7179cb","#4dceff","#79c850","#ffb65d","#fc694b","#9a9792"]}}}),a.Smooth3=a.initTheme(a.SmoothBase,{colors:["#40a00e","#444444","#85cc82","#5e5e64","#60b336","#89847f"],seriesOptions:{pieCfg:{colors:["#40a00e","#444444","#85cc82","#5e5e64","#60b336","#89847f"]}}}),a.Smooth4=a.initTheme(a.SmoothBase,{colors:["#e1c673","#c49756","#8c6c42","#595348","#c86c4b","#7c4f34"],seriesOptions:{pieCfg:{colors:["#e1c673","#c49756","#8c6c42","#595348","#c86c4b","#7c4f34"]}}}),a.Smooth5=a.initTheme(a.SmoothBase,{colors:["#89847f","#aea9a2","#606060","#232323","#d8d2c7","#444444"],seriesOptions:{pieCfg:{colors:["#89847f","#aea9a2","#606060","#232323","#d8d2c7","#444444"]}}}),a.Smooth6=a.initTheme(a.SmoothBase,{colors:["#ff9d40","#89847f","#ff8127","#b4aea7","#ffba66","#606060"],seriesOptions:{pieCfg:{colors:["#ff9d40","#89847f","#ff8127","#b4aea7","#ffba66","#606060"]}}}),a.Smooth7=a.initTheme(a.SmoothBase,{colors:["#25b0dd","#7fdcff","#30b2c8","#5dc5ee","#266796","#258bca"],seriesOptions:{pieCfg:{colors:["#25b0dd","#7fdcff","#30b2c8","#5dc5ee","#266796","#258bca"]}}}),i.exports=a}),define("bui-chart/1.1.0/src/plotback",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/plotrange","bui-graphic/1.1.0/index"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/plotitem"),n=e("bui-chart/1.1.0/src/plotrange"),s=function(e){s.superclass.constructor.call(this,e)};s.ATTRS={elCls:{value:"x-chart-back"},zIndex:{value:0},margin:{value:20},plotRange:{},background:{},border:{}},r.extend(s,a),r.augment(s,{beforeRenderUI:function(){s.superclass.beforeRenderUI.call(this),this._calculateRange()},renderUI:function(){s.superclass.renderUI.call(this),this._renderBorder(),this._renderBackground()},_renderBorder:function(){var e,t=this,i=t.get("border"),a=t.get("canvas");i&&(e=r.mix({width:a.get("width"),height:a.get("height")},i),this.addShape("rect",e))},_renderBackground:function(){var e,t,i,a,n=this,s=n.get("background"),c=n.get("plotRange");s&&(e=c.getWidth(),t=c.getHeight(),i=c.tl,a={x:i.x,y:i.y,width:e,height:t},s.image?(a.src=s.image,n.addShape("image",a)):(r.mix(a,s),n.addShape("rect",a)))},_calculateRange:function(){var e,t,i,a=this,s=a.get("margin"),c=a.get("canvas"),o=c.get("width"),u=c.get("height"),l=0,h=0,g=0,d=0;r.isNumber(s)&&(l=h=g=d=s),r.isArray(s)&&(l=s[0],g=null!=s[1]?s[1]:s[0],d=null!=s[2]?s[2]:s[0],h=null!=s[3]?s[3]:g),t=c.getRelativePoint(h,u-d),i=c.getRelativePoint(o-g,l),e=new n(t,i),a.set("plotRange",e)}}),i.exports=s}),define("bui-chart/1.1.0/src/seriesgroup",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/mixin/activedgroup","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/legend","bui-chart/1.1.0/src/tooltip","bui-chart/1.1.0/src/axis/index","bui-chart/1.1.0/src/series/index","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/legenditem","bui-chart/1.1.0/src/axis/base","bui-chart/1.1.0/src/axis/category","bui-chart/1.1.0/src/axis/number","bui-chart/1.1.0/src/axis/time","bui-chart/1.1.0/src/axis/auto","bui-chart/1.1.0/src/axis/circle","bui-chart/1.1.0/src/axis/radius","bui-chart/1.1.0/src/axis/abstract","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/series/base","bui-chart/1.1.0/src/series/line","bui-chart/1.1.0/src/series/area","bui-chart/1.1.0/src/series/column","bui-chart/1.1.0/src/series/scatter","bui-chart/1.1.0/src/series/bubble","bui-chart/1.1.0/src/series/pie","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/series/cartesian","bui-chart/1.1.0/src/series/stacked","bui-chart/1.1.0/src/series/itemgroup"],function(e,t,i){function r(e,t){return e>t?t:e}function a(e){a.superclass.constructor.call(this,e)}var n=e("bui-common/1.1.0/common"),s=e("bui-chart/1.1.0/src/mixin/activedgroup"),c=e("bui-chart/1.1.0/src/plotitem"),o=e("bui-chart/1.1.0/src/legend"),u=e("bui-chart/1.1.0/src/tooltip"),l=e("bui-chart/1.1.0/src/axis/index"),h=e("bui-chart/1.1.0/src/series/index"),g=120,d=80;a.ATTRS={elCls:{value:"x-chart-series-group"},zIndex:{value:5},plotRange:{},colors:{value:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]},symbols:{value:["circle","diamond","square","triangle","triangle-down"]},seriesOptions:{value:{}},series:{},legend:{},xAxis:{},yAxis:{},tooltip:{},stackedData:{},data:{},itemName:{value:"series"}},n.extend(a,c),n.mixin(a,[s]),n.augment(a,{renderUI:function(){var e=this;a.superclass.renderUI.call(e),e._renderLegend(),e._renderSeries(),e._renderAxis(),e._addSeriesAxis(),e._paintAxis(e.get("xAxis"),"xAxis"),e._paintAxis(e.get("yAxis"),"yAxis"),e._paintSeries(),e._renderTooltip()},bindUI:function(){var e=this;a.superclass.bindUI.call(e),e.bindCanvasEvent()},bindCanvasEvent:function(){function e(i){$.contains(r.get("node"),i.target)||r.get("node")==i.target||(t.onTriggerOut(i),$(document).off("click",e))}var t=this,i=t.get("tipGroup").get("triggerEvent"),r=t.get("canvas");"click"==i?r.on("click",function(i){t.onCanvasMove(i),setTimeout(function(){$(document).off("click",e).on("click",e)})}):(r.on("mousemove",n.wrapBehavior(t,"onCanvasMove")),r.on("mouseout",n.wrapBehavior(t,"onMouseOut")))},onCanvasMove:function(e){var t,i=this,r=i.get("canvas"),a=i.get("tipGroup");a&&(t=r.getPoint(e.pageX,e.pageY),i._isInAxis(t)?i._processTracking(t,a):i.onMouseOut())},onTriggerOut:function(){var e=this,t=e.get("tipGroup");e.clearActivedItem(),t.get("visible")&&(t.get("shared")&&n.each(e.getVisibleSeries(),function(e){var t=e.get("markersGroup");t&&t.clearActivedItem()}),e._hideTip())},onMouseOut:function(e){var t=this;e&&e.target!=t.get("canvas").get("none")||t.onTriggerOut(e)},getSeries:function(){return this.get("children")},_processTracking:function(e,t){var i,r=this,a=[];if(t.get("shared"))a=r.getSeries();else{var s=r.getActived();s&&a.push(s)}n.each(a,function(t){t&&t.get("stickyTracking")&&t.get("visible")&&t.onStickyTracking({point:e})}),a.length&&(i=r._getTipInfo(a,e),i.items.length&&r._showTooltip(i.title,i.point,i.items))},_getTipInfo:function(e,t){var i={items:[],point:{}},r=0,a=this.get("tipGroup").get("pointRenderer");return n.each(e,function(n){var s,c=n.getTrackingInfo(t),o={};if(c){if(n.get("visible")){r+=1,o.name=n.get("name"),o.value=a?a(c,n):n.getTipItem(c),o.color=c.color||n.get("color"),i.items.push(o);var u=n.get("markersGroup");if(u&&u.get("single")){var l=u.getChildAt(0);l&&l.attr({x:c.x,y:c.y})}}s=n.get("xAxis")?n.get("xAxis").formatPoint(c.xValue):c.xValue,1==r&&(i.title=s,c.x?(i.point.x=c.x,i.point.y=1==e.length?c.y:t.y):(i.point.x=t.x,i.point.y=t.y))}}),i},_showTooltip:function(e,t,i){var r=this,a=r.get("tipGroup"),n=r.get("prePoint");n&&n.x==t.x&&n.y==t.y||(a.setPosition(t.x,t.y),r.set("prePoint",t),a.get("visible")||a.show(),a.setTitle(e),a.setItems(i))},_hideTip:function(){var e=this,t=e.get("tipGroup");t&&t.get("visible")&&(t.hide(),e.set("prePoint",null))},_isInAxis:function(e){var t=this,i=t.get("plotRange");return i.isInRange(e)},_renderSeries:function(){var e=this,t=e.get("series");n.each(t,function(t,i){e.addSeries(t,i)})},_renderLegend:function(){var e,t=this,i=t.get("legend");i&&(i.items=i.items||[],i.plotRange=t.get("plotRange"),e=t.get("parent").addGroup(o,i),t.set("legendGroup",e))},_renderTooltip:function(){var e,t=this,i=t.get("tooltip");i&&(i.plotRange=t.get("plotRange"),e=t.get("parent").addGroup(u,i),t.set("tipGroup",e))},_renderAxis:function(){var e=this,t=e.get("xAxis"),i=e.get("yAxis");if(t&&!t.isGroup&&(t=e._createAxis(t),e.set("xAxis",t)),n.isArray(i)&&!i[0].isGroup){var r=[];n.each(i,function(t){r.push(e._createAxis(t)),e.set("yAxis",r)})}else i&&!i.isGroup&&(t&&"circle"==t.get("type")&&(i.type="radius",i.circle=t),i=e._createAxis(i),e.set("yAxis",i))},_createAxis:function(e){var t,i,r=this,a=e.type;return e.categories?a="category":e.ticks||"circle"==a||(e.autoTicks=!0),"category"!=a||e.categories||(e.autoTicks=!0),e.plotRange=r.get("plotRange"),e.autoPaint=!1,a=a||"number",i=n.ucfirst(a),t=l[i],t?r.get("parent").addGroup(t,e):null},_caculateAxisInfo:function(e,t){if("category"==e.get("type"))return this._caculateCategories(e,t);var i,r,a,n,s,c,o,u=this,h=[],f=e.get("type"),m=e.getLength(),v=Math.floor(m/g),p=Math.ceil(m/d);if("number"==f||"radius"==f)a=e.getCfgAttr("min"),n=e.getCfgAttr("max"),c=l.Auto;else if("time"==f){var b=e.get("startDate"),x=e.get("endDate");b&&(a=b.getTime()),x&&(n=x.getTime()),c=l.Auto.Time}s=e.getCfgAttr("tickInterval"),r=u.getSeries();var y={min:a,max:n,interval:s};return"yAxis"==t&&(y.maxCount=p,y.minCount=v,i=r[0].get("stackType")),h=i&&"none"!=i?u.getStackedData(e,t):u.getSeriesData(e,t),h.length?(y.data=h,o=c.caculate(y,i)):o={ticks:[]},o},_caculateCategories:function(e,t){var i=this,r=i.getSeriesData(e,t),a=[];if(r.length&&(a=a.concat(r[0])),r.length>1&&!i.get("data"))for(var s=1;s<r.length;s++){var c=r[s];n.each(c,function(e){n.indexOf(e)||a.push(e)})}return{categories:a}},getSeriesData:function(e,t){var i=this,r=[],a=i.getVisibleSeries();return e=e||i.get("yAxis"),t=t||"yAxis",n.each(a,function(i){if(i.get(t)==e){var a=i.getData(t);a.length&&r.push(a)}}),r},_parseData:function(e,t){var i=[];return n.each(t,function(t){i.push(e[t])}),i},getStackedData:function(e,t){var i,a,s=this;return stackedData=s.get("stackedData"),arr=[],stackedData?arr=stackedData:(i=s.getSeriesData(e,t),a=i[0],r=null,n.each(a,function(e,t){for(var a=e,n=1;n<i.length;n++){var s=i[n][t];a+=s,(null==r||r>s)&&(r=s)}arr.push(a)}),arr.push(r),s.set("stackedData",arr)),arr},_paintAxis:function(e,t){var i,r=this;i=n.isArray(e)?e:[e],n.each(i,function(e){if(r._hasRelativeSeries(e,t)){if(e.get("autoTicks")){var i=r._caculateAxisInfo(e,t);e.changeInfo(i)}e.paint()}})},_hasRelativeSeries:function(e,t){var i=this,r=i.getVisibleSeries(),a=!1;return n.each(r,function(i){return i.get(t)==e?(a=!0,!1):void 0}),a},_resetAxis:function(e,t){if(e.get("autoTicks")){t=t||"yAxis",this.set("stackedData",null);{var i=this,r=i._caculateAxisInfo(e,t);i.getSeries()}e.change(r)}},_resetSeries:function(){var e=this,t=e.getSeries();n.each(t,function(e){e.get("visible")&&e.repaint()})},repaint:function(){var e=this,t=e.get("xAxis"),i=e.get("yAxis");t&&e._resetAxis(t,"xAxis"),i&&(n.isArray(i)?n.each(i,function(t){e._resetAxis(t,"yAxis")}):e._resetAxis(i,"yAxis")),e._resetSeries()},changeData:function(e){var t=this,i=t.getSeries(),r=t.get("fields");t.set("data",e),n.each(i,function(i,a){if(r){var n=t._getSeriesData(i.get("name"),a);i.changeData(n)}else i.changeData(e)}),t.repaint()},_getSeriesData:function(e,t){var i=this,r=i.get("data"),a=i.get("fields"),s=r[t];return e&&n.each(r,function(t){return t.name==e?(s=t,!1):void 0}),i._parseData(s,a)},_getDefaultType:function(){var e=this,t=e.get("seriesOptions"),i="line";return n.each(t,function(e,t){return i=t.replace("Cfg",""),!1}),i},getVisibleSeries:function(){var e=this,t=e.getSeries();return n.Array.filter(t,function(e){return e.get("visible")})},addSeries:function(e,t){var i,r=this,a=e.type||r._getDefaultType(),n=r._getSeriesClass(a),s=r._getSeriesCfg(a,e,t);return s.autoPaint=s.autoPaint||!1,i=r.addGroup(n,s),r._addLegendItem(i),i},_paintSeries:function(){var e=this,t=e.getSeries();n.each(t,function(e){e.paint()})},_addSeriesAxis:function(){var e=this,t=e.getSeries();n.each(t,function(t){if("pie"==t.get("type"))return!0;t.get("xAxis")||t.set("xAxis",e.get("xAxis"));var i=e.get("yAxis");null==t.get("yAxis")&&(n.isArray(i)?t.set("yAxis",i[0]):t.set("yAxis",i)),n.isNumber(t.get("yAxis"))&&t.set("yAxis",i[t.get("yAxis")])})},showSeries:function(e){var t=this,i=t.get("yAxis");e.get("visible")||(e.show(),i&&(t._resetAxis(i),t._resetSeries()))},hideSeries:function(e){var t=this,i=t.get("yAxis");e.get("visible")&&(e.hide(),i&&(t._resetAxis(i),t._resetSeries()))},_addLegendItem:function(e){var t=this,i=t.get("legendGroup");i&&i.addItem({series:e})},_getSeriesCfg:function(e,t,i){var r=this,a=r.get("seriesOptions"),s=r.get("colors"),c=r.get("data"),o=r.get("fields"),u=r.get("symbols");return t=n.mix(!0,{},a[e+"Cfg"],t),!t.color&&s.length&&(t.color=s[i%s.length]),t.markers&&t.markers.marker&&!t.markers.marker.symbol&&(t.markers.marker.symbol=u[i%u.length]),c&&!t.data&&(t.data=o?r._getSeriesData(t.name,i):c),t},_getSeriesClass:function(e){var t=n.ucfirst(e),i=h[t]||h;return i},remove:function(){var e=this,t=e.get("canvas");t.off("mousemove",n.getWrapBehavior(e,"onCanvasMove")),t.off("mouseout",n.getWrapBehavior(e,"onMouseOut")),a.superclass.remove.call(e)}}),i.exports=a}),define("bui-chart/1.1.0/src/plotitem",["jquery","bui-common/1.1.0/common","bui-graphic/1.1.0/index"],function(e,t,i){function r(e){if(!e._attrs&&e!=s.Group){var t=e.superclass.constructor;t&&!t._attrs&&r(t),e._attrs={},n.mixAttrs(e._attrs,t._attrs),n.mixAttrs(e._attrs,e.ATTRS)}}function a(e){r(this.constructor),a.superclass.constructor.call(this,e)}var n=e("bui-common/1.1.0/common"),s=e("bui-graphic/1.1.0/index");a.ATTRS={itemName:{value:"item"},groupName:{value:""}},n.extend(a,s.Group),n.augment(a,{getDefaultCfg:function(){var e=this,t=e.constructor,i=t._attrs,r={};for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],c=s.value;null!=c&&(s.shared===!1?(n.isObject(c)&&(r[a]={}),n.isArray(c)&&(r[a]=[]),n.mixAttr(r[a],c)):r[a]=c)}return r},fireUp:function(e,t){var i=this,r=i.get("canvas"),a=r.chart;a&&(t.target=t.target||a,a.fire(e,t))},fireUpGroup:function(e,t,i){var r=this,a=r.get("itemName"),n=r.get("groupName");i=i||{},i[a]=t,n&&(i[n]=r.get("parent")),r.fireUp(a.toLowerCase()+e,i)}}),i.exports=a}),define("bui-chart/1.1.0/src/mixin/activedgroup",[],function(e,t,i){var r=function(){};r.ATTRS={},BUI.augment(r,{isItemActived:function(e){return e.isActived()},getActiveItems:function(){return this.get("children")},setItemActived:function(e,t){t?e.setActived():e.clearActived()},onActived:function(e){this.fireUpGroup("actived",e)},onUnActived:function(e){this.fireUpGroup("unactived",e)},setActivedItem:function(e){var t=this;t.clearActivedItem(),e&&!t.isItemActived(e)&&(t.setItemActived(e,!0),t.onActived())},getActived:function(){var e=this,t=e.getActiveItems(),i=null;return BUI.each(t,function(t){return e.isItemActived(t)?(i=t,!1):void 0}),i},clearActivedItem:function(e){var t=this;e=e||t.getActived(),e&&(t.setItemActived(e,!1),t.onUnActived(e))}}),i.exports=r}),define("bui-chart/1.1.0/src/legend",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/legenditem","bui-graphic/1.1.0/index"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/plotitem"),n=e("bui-chart/1.1.0/src/legenditem"),s=15,c=5,o=function(e){o.superclass.constructor.call(this,e)};o.ATTRS={zIndex:{value:8},elCls:{value:"x-chart-legend"},items:{},layout:{value:"horizontal"},dx:{value:0},dy:{value:0},align:{value:"bottom"},back:{value:{stroke:"#909090",fill:"#fff"}}},r.extend(o,a),r.augment(o,{renderUI:function(){var e=this;o.superclass.renderUI.call(e),e._renderItems(),e._renderBorder()},bindUI:function(){o.superclass.bindUI.call(e);var e=this;e.on("mousemove",function(e){e.stopPropagation()})},_renderItems:function(){var e=this,t=e.get("items"),i=e.addGroup();e.set("itemsGroup",i),r.each(t,function(t,i){e._addItem(t,i)})},addItem:function(e){var t=this,i=t.get("items");t._addItem(e,i.length),t.resetBorder(),t.resetPosition()},_addItem:function(e){var t=this,i=t.get("itemsGroup"),a=t._getNextX(),s=t._getNextY(),c=r.mix({x:a,y:s},e);c.legend=t,i.addGroup(n,c)},_renderBorder:function(){var e,t,i,a,n=this,s=n.get("back");s&&(e=n._getTotalWidth(),t=n._getTotalHeight(),i=r.mix({r:5,width:e,height:t},s),a=n.addShape("rect",i),a.toBack(),n.set("borderShape",a))},resetBorder:function(){var e=this,t=e.get("borderShape");t&&t.attr({width:e._getTotalWidth(),height:e._getTotalHeight()})},resetPosition:function(){var e,t,i=this,r=i.get("align"),a=i.get("plotRange"),n=a.tl,s=a.br,c=i.get("dx"),o=i.get("dy"),u=i._getTotalWidth();switch(r){case"top":e=n.x,t=n.y;break;case"left":e=n.x-u,t=(n.y+s.y)/2;break;case"right":e=s.x,t=(n.y+s.y)/2;break;case"bottom":e=(n.x+s.x)/2-u/2,t=s.y}i.move(e+c,t+o)},_getCount:function(){return this.get("itemsGroup").get("children").length},_getNextX:function(){var e=this,t=e.get("layout"),i=c;if("horizontal"==t){var a=e.get("itemsGroup").get("children");r.each(a,function(e){e.isGroup&&(i+=e.getWidth()+c)})}return i},_getNextY:function(){var e=this,t=e.get("layout");return"horizontal"==t?c:s*e._getCount()+c},_getTotalWidth:function(){var e=this;if("horizontal"==e.get("layout"))return this._getNextX();var t=e.get("itemsGroup").get("children"),i=c;return r.each(t,function(e){var t=e.getWidth();e.isGroup&&t>i&&(i=t)}),i+2*c},_getTotalHeight:function(){var e=this,t=e._getNextY();return"horizontal"==e.get("layout")?s+2*c:t+c}}),i.exports=o}),define("bui-chart/1.1.0/src/tooltip",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/plotitem","bui-graphic/1.1.0/index"],function(e,t,i){function r(e,t){return e>t?e:t}var a=e("bui-common/1.1.0/common"),n=e("bui-chart/1.1.0/src/plotitem"),s=e("bui-graphic/1.1.0/index").Util,c=function(e){c.superclass.constructor.call(this,e)};c.ATTRS={zIndex:{value:10},elCls:{value:"x-chart-tootip"},crosshairs:{value:!1},plotRange:{},shared:{value:!1},offset:{value:0},shadow:{},title:{value:{"font-size":"10","text-anchor":"start",x:5,y:15}},name:{value:{"font-size":"12","text-anchor":"start"}},value:{value:{"font-size":"12","font-weight":"bold","text-anchor":"start"}},border:{value:{x:0,y:0,r:3,fill:"#fff","fill-opacity":.85}},animate:{value:!0},duration:{value:100},pointRenderer:{},valueSuffix:{value:""},visible:{value:!1},items:[],crossLine:{value:{stroke:"#C0C0C0"}}},a.extend(c,n),a.augment(c,{renderUI:function(){var e=this;c.superclass.renderUI.call(e),e._renderBorer(),e._renderText(),e._renderItemGroup(),e._renderCrossLine()},_renderBorer:function(){var e=this,t=(e.getBBox(),e.addShape("rect",e.get("border")));e.set("borderShape",t)},_renderText:function(){var e=this,t=e.get("title");e.setTitle(t.text)},_renderItemGroup:function(){var e=this,t=e.get("items"),i=e.addGroup({x:8,y:30});e.set("textGroup",i),t&&e.setItems(t)},_renderCrossLine:function(){var e,t=this,i=t.get("crosshairs"),r=t.get("plotRange");i&&(e=t.get("parent").addShape({type:"line",visible:!1,zIndex:3,attrs:{stroke:t.get("crossLine").stroke,x1:0,y1:r.bl.y,x2:0,y2:r.tl.y}}),t.set("crossShape",e))},setTitle:function(e){var t=this,i=t.get("titleShape"),r=t.get("title");i||(r.text=e||"",i=t.addShape("text",r),t.set("titleShape",i)),i.attr("text",e)},getInnerBox:function(){var e=this,t=e.get("textGroup"),i=e.get("titleShape"),r=t.getBBox(),a={},n=r.width;if(i){var s=i.getBBox();n=Math.max(n,s.width)}return a.width=r.x+n+8,a.height=r.height+r.y+10,a},setColor:function(e){var t=this,i=t.get("borderShape");i.attr("stroke",e)},show:function(){var e=this,t=e.get("crossShape"),i=e.get("hideHandler");i&&clearTimeout(i),c.superclass.show.call(e),t&&t.show()},hide:function(){var e=this,t=e.get("crossShape"),i=setTimeout(function(){c.superclass.hide.call(e),e.set("hideHandler",null)},e.get("duration"));e.set("hideHandler",i),t&&t.hide()},setPosition:function(e,t){var i=this,a=i.get("plotRange"),n=i.get("offset"),c=i.get("crossShape"),o=i.getBBox(),u=!0,l=i.get("animate"),h=e;e=e-o.width-n,t-=o.height,a&&(a.isInRange(e,t)||(a.isInVertical(t)||(t=a.tl.y),a.isInHorizontal(e)||(e=r(a.tl.x,h)+n,u=!1))),(i.get("x")!=e||i.get("y")!=t)&&(l&&s.svg&&i.get("visible")&&i.animate({x:e,y:t},i.get("duration")),i.move(e,t),c&&(u?c.attr("transform","t"+h+" 0"):c.attr("transform","t"+(e-n)+" 0")))},resetBorder:function(){var e=this,t=e.getInnerBox(),i=e.get("borderShape");i.attr({width:t.width,height:t.height})},addItem:function(e,t){function i(e,t){var i=a.merge(u,{x:d,y:l,text:e},t);return c.addShape("text",i)}var r,n=this,s=n.get("textGroup"),c=s.addGroup(),o=n.get("name"),u=n.get("value"),l=16*t;r=a.merge(o,{x:0,y:l,text:e.name+":",fill:e.color});var h,g=c.addShape("text",r),d=g.getBBox().width+10,f=n.get("valueSuffix");a.isArray(e.value)?a.each(e.value,function(e){var t;t=a.isObject(e)?i(e.text,e):i(e),d+=t.getBBox().width}):(h=f?e.value+" "+f:e.value,i(h))},setItems:function(e){var t=this;t.clearItems(),a.each(e,function(e,i){t.addItem(e,i)}),e[0]&&t.setColor(e[0].color),t.resetBorder()},clearItems:function(){var e=this,t=e.get("textGroup");t.clear()},remove:function(){var e=this,t=e.get("crossShape");t&&t.remove(),c.superclass.remove(this)}}),i.exports=c}),define("bui-chart/1.1.0/src/legenditem",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/plotitem","bui-graphic/1.1.0/index"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/plotitem"),n=20,s=function(e){s.superclass.constructor.call(this,e)};s.ATTRS={elCls:{value:"x-chart-legend-item"},label:{},legend:{},series:{},x:{},y:{},hideColor:{value:"#CCC"}},r.extend(s,a),r.augment(s,{renderUI:function(){var e=this;s.superclass.renderUI.call(e),e._createShape(),e._createMarker(),e._createLabel()},bindUI:function(){var e=this;s.superclass.bindUI.call(e),e.bindMouseEvent(),e.bindClick()},bindMouseEvent:function(){var e=this,t=e.get("series");e.on("mouseover",function(){t.setActived&&t.setActived()}).on("mouseout",function(){t.clearActived&&t.clearActived()})},bindClick:function(){var e=this,t=e.get("series");e.on("click",function(){var i=t.get("visible");if(i){var r=t.get("parent"),a=r.getVisibleSeries().length;
if(1==a)return}e._setVisible(!i)})},_setVisible:function(e){var t=this,i=t.get("series"),r=t.get("shape"),a=t.get("marker"),n=e?i.get("color"):t.get("hideColor");e?i.get("parent").showSeries(i):i.get("parent").hideSeries(i),r&&r.attr({stroke:n,fill:n}),a&&a.attr({stroke:n,fill:n})},_getBySeries:function(e){var t=this,i=t.get("series");return i.get(e)},getWidth:function(){var e=this,t=e.get("label");return t.getBBox().width+n},_createLabel:function(){var e=this,t=e._getBySeries("name"),i=e.addShape("label",{x:n,"text-anchor":"start",y:7,cursor:"pointer",text:t});e.set("label",i)},_createShape:function(){var e,t=this,i=t._getBySeries("type"),r=t._getBySeries("color");switch(i){case"line":e=t.addShape("line",{x1:3,y1:7,x2:17,y2:7,stroke:r,"stroke-width":2});break;case"scatter":e=null;break;case"bubble":e=t.addShape("circle",{cx:10,cy:7,r:5,fill:r,stroke:r,"fill-opacity":.5});break;default:e=t.addShape("rect",{x:2,y:2,width:15,height:10,fill:r,stroke:r})}e&&e.attr("cursor","pointer"),t.set("shape",e)},_createMarker:function(){var e,t=this,i=t._getBySeries("markers");i&&(e=r.mix({},i.marker),e.radius=3,e.x=10,e.y=7,e=t.addShape("marker",e)),t.set("marker",e)}}),i.exports=s}),define("bui-chart/1.1.0/src/axis/base",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/axis/abstract","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels"],function(e,t,i){function r(e){r.superclass.constructor.call(this,e)}var a=e("bui-common/1.1.0/common"),n=e("bui-chart/1.1.0/src/axis/abstract"),s=e("bui-graphic/1.1.0/index").Util,c="x-chart-axis";r.ATTRS={zIndex:{value:4},x:{},y:{},start:{},end:{},tickOffset:{value:0},elCls:{value:c},position:{value:"bottom"},line:{value:{"stroke-width":1,stroke:"#C0D0E0"}},tickLine:{value:{"stroke-width":1,stroke:"#C0D0E0",value:5}}},a.extend(r,n),a.augment(r,{beforeRenderUI:function(){var e,t=this;if(r.superclass.beforeRenderUI.call(t),e=t.get("plotRange")){var i=e.start,a=t.get("position"),n={};t.isVertical()?"left"==a?(n.y=e.end.y,n.x=i.x):(i={},n=e.end,i.x=e.end.x,i.y=e.start.y):(n.x=e.end.x,n.y=i.y),t.set("start",i),t.set("end",n)}t.set("indexCache",{}),t.set("pointCache",[])},change:function(e){var t=this;t.isChange(e.ticks)&&(t._clearTicksInfo(),t.changeInfo(e),t._processTicks(null,!0),t._changeTicks(),t._changeGrid(),t.resetLabels())},isChange:function(e){var t=this,i=t.get("ticks");return!a.Array.equals(e,i)},changeInfo:function(e){var t=this;t.set("ticks",e.ticks)},_clearTicksInfo:function(){var e=this,t=e.get("grid"),i=e.get("labels");e.set("pointCache",[]),e.set("indexCache",[]),e.set("tickItems",[]),t&&(t.items=[]),i&&(i.items=[])},paint:function(){var e=this;e._drawLines(),e._renderTicks(),e._renderGrid()},isVertical:function(){var e,t=this,i=t.get("isVertical");return null!=i?i:(e=t.get("position"),i="bottom"==e||"top"==e?!1:!0,t.set("isVertical",i),i)},getOffset:function(e){var t=this,i=t.get("ticks"),r=a.Array.indexOf(e,i);return t.getOffsetByIndex(r)},getStartOffset:function(){return this._getStartCoord()},getEndOffset:function(){return this._getEndCoord()},getValue:function(e){var t=this,i=t._getStartCoord(),r=t._getEndCoord();return i>e||e>r?0/0:t.parseOffsetValue(e)},getStartValue:function(){var e=this,t=e.get("ticks");return t[0]},getEndValue:function(){var e=this,t=e.get("ticks");return t[t.length-1]},getSnapIndex:function(e){var t=this,i=t.get("pointCache"),r=s.snapTo(i,e);return a.Array.indexOf(r,i)},_appendEndOffset:function(e){var t,i=this,r=i.get("tickOffset");return"number"!=typeof r&&(r=r[0]),r&&(t=i._getDirectFactor(),0==e?e+=r*t:e>0?e+=r:e-=r),e},getOffsetByIndex:function(e){var t=this,i=t._getLength(),r=t.get("ticks"),a=r.length,n=i/(a-1)*e;return t._appendEndOffset(n)+t._getStartCoord()},getOffsetPoint:function(e,t){var i=this,r=i._getOrthoCoord(),a=i.get("indexCache");return t||(void 0!==a[e]?t=a[e]:(t=i.getOffsetByIndex(e),a[e]=t)),i.isVertical()?{x:r,y:t}:{x:t,y:r}},getTickOffsetPoint:function(e){return this.getOffsetPoint(e)},_getStartCoord:function(){var e=this,t=e.get("start");return e.isVertical()?t.y:t.x},_getOrthoCoord:function(){var e=this,t=e.get("start");return e.isVertical()?t.x:t.y},_getEndCoord:function(){var e=this,t=e.get("end");return e.isVertical()?t.y:t.x},_getMiddleCoord:function(){var e=this,t=e._getStartCoord(),i=e._getLength();return t+e._appendEndOffset(i/2)},getLength:function(){return Math.abs(this._getLength())},getTickAvgLength:function(){var e=this,t=e.get("ticks");return e.getLength()/(t.length-1)},_getLength:function(){var e,t=this,i=t.get("start"),r=t.get("tickOffset"),a=t.get("end");return r="number"!=typeof r?r[0]+r[1]:2*r,e=t.isVertical()?a.y-i.y:a.x-i.x,e>0?e-=r:e+=r,e},getLinePath:function(){var e=this,t=e.get("start"),i=e.get("end"),r=[];return r.push(["M",t.x,t.y]),r.push(["L",i.x,i.y]),r},getTickEnd:function(e){var t=this,i=t.get("tickLine"),r=t._getAlignFactor(),a=i.value,n={};return t.isVertical()?(n.x2=e.x1+a*r,n.y2=e.y1):(n.x2=e.x1,n.y2=e.y1+a*r),n},_changeTicks:function(){var e=this,t=e.get("tickShape"),i=e.get("tickItems"),r="";return t?(a.each(i,function(e){var t=a.substitute("M{x1} {y1}L{x2} {y2}",e);r+=t}),void s.animPath(t,r,2)):void(i&&i.length&&e._renderTicks())},_getDirectFactor:function(){var e,t,i,r=this,a=r.get("directfactor");return a?a:(a=1,e=r.get("position"),t=r.get("start"),i=r.get("end"),"bottom"==e||"top"==e?t.x>i.x&&(a=-1):t.y>i.y&&(a=-1),r.set("directfactor",a),a)},_getAlignFactor:function(){var e,t=this,i=t.get("factor");return i?i:(e=t.get("position"),i="bottom"==e||"right"==e?1:-1,t.set("factor",i),i)},_renderTitle:function(){var e=this,t=e.get("title"),i=e._getMiddleCoord(),r=e.getOffsetPoint(null,i),n=a.mix({},t);t.text&&(n.x=r.x+(t.x||0),n.y=r.y+(t.y||0),e.addShape({type:"label",elCls:c+"-title",attrs:n}))},getGridItemCfg:function(e){var t=this,i={},r=t.get("plotRange");return i.x1=e.x,i.y1=e.y,t.isVertical()?(i.y2=i.y1,i.x2=r.end.x):(i.x2=i.x1,i.y2=r.end.y),i},_changeGrid:function(){var e,t=this,i=t.get("grid");i&&(e=t.get("gridGroup"),e&&e.change(i.items))},remove:function(){{var e=this,t=e.get("gridGroup");e.get("labelsGroup")}t&&t.remove(),e.removeLabels(),r.superclass.remove.call(this)}}),i.exports=r}),define("bui-chart/1.1.0/src/axis/category",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/axis/base","bui-chart/1.1.0/src/axis/abstract","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels"],function(e,t,i){function r(e){r.superclass.constructor.call(this,e)}var a=e("bui-common/1.1.0/common"),n=e("bui-chart/1.1.0/src/axis/base");a.extend(r,n),r.ATTRS={categories:{},type:{value:"category"}},a.augment(r,{beforeRenderUI:function(){var e=this;if(r.superclass.beforeRenderUI.call(e),!e.get("ticks")){var t=e.get("categories"),i=[];i=i.concat(t),i.push(" "),e.set("ticks",i)}},changeInfo:function(e){var t=this,i=[];i=i.concat(e.categories),i.length&&i.push(" "),t.set("categories",e.categories),t.set("ticks",i)},getOffsetByIndex:function(e){var t=this,i=t._getAvgLength(),r=i*e;return r>=0?r+=i/2:r-=i/2,t._appendEndOffset(r)+t._getStartCoord()},getValue:function(e){var t=this,i=t.getSnapIndex(e),r=t.get("categories");return r[i]},changeAxis:function(){},_getAvgLength:function(){var e=this,t=e._getLength(),i=e.get("ticks"),r=i.length,a=t/(r-1);return a},getTickOffsetPoint:function(e){var t=this,i=t._getOrthoCoord(),r=t._getAvgLength(),a=t.getOffsetByIndex(e);return a>=0?a-=r/2:a+=r/2,t.isVertical()?{x:i,y:a}:{x:a,y:i}}}),i.exports=r}),define("bui-chart/1.1.0/src/axis/number",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/axis/base","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/axis/abstract","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels"],function(e,t,i){function r(e){r.superclass.constructor.call(this,e)}var a=e("bui-common/1.1.0/common"),n=e("bui-chart/1.1.0/src/axis/base"),s=e("bui-graphic/1.1.0/index").Util,c=["k","m","g","t"],o=0/0,u=s.snapFloor,l=s.snapCeiling;a.extend(r,n),r.ATTRS={min:{},max:{},tickInterval:{},type:{value:"number"},formatter:{value:function(e){if(null==e||isNaN(e))return"";if(1e3>e)return e;var t=this.get("tickInterval");if(t%1e3!==0)return e;for(var i=1e3,r=1;r<=c.length;r++){if(e>=i&&1e3*i>e)return e/i+c[r-1];i=1e3*i}return e/1e12+"t"}}},a.augment(r,{beforeRenderUI:function(){var e=this;if(r.superclass.beforeRenderUI.call(e),!e.get("ticks")){var t=e._getTicks(e.get("max"),e.get("min"),e.get("tickInterval"));e.set("ticks",t)}},_getTicks:function(e,t,i){var r,a=[],n=(e-t)/i;a.push(t);for(var s=1;n>=s;s++)r=i*s+t,a.push(r);return a},changeInfo:function(e){var t=this;if(e.interval&&(e.tickInterval=e.interval),e.ticks)t.set("ticks",e.ticks);else{var i=t._getTicks(e.max,e.min,e.tickInterval);t.set("ticks",i)}e.tickInterval&&t.set("tickInterval",e.tickInterval)},getOffset:function(e){e=parseFloat(e);var t=this,i=t.getRelativeOffset(e);return t._appendEndOffset(i)+t._getStartCoord()},getValue:function(e){var t,i,r,n,s,c,o=this,h=o._getStartCoord(),g=o._getEndCoord();return h>e||e>g?0/0:(t=o.get("pointCache"),i=u(t,e),r=a.Array.indexOf(i,t),c=o.get("ticks"),s=o.get("tickInterval"),avg=o._getAvgLength(c.length),i==e?c[r]:s?c[r]+(e-i)/avg*s:(n=l(t,e),c[r]+(e-i)/avg*(c[r+1]-c[r])))},_getAvgLength:function(e){var t=this,i=t._getLength();return i/(e-1)},getRelativeOffset:function(e){var t,i,r,n=this,s=n.get("ticks"),c=a.Array.indexOf(e,s),h=n.get("tickInterval"),g=n._getAvgLength(s.length);return-1!==c?g*c:(t=u(s,e),isNaN(t)?o:(c=a.Array.indexOf(t,s),r=g*c,h?r+=(e-t)/h*g:(i=l(s,e),r+=(e-t)/(i-t)*g),r))}}),i.exports=r}),define("bui-chart/1.1.0/src/axis/time",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/axis/number","bui-chart/1.1.0/src/axis/base","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/axis/abstract","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels"],function(e,t,i){function r(e){if(e instanceof Date)return e.getTime();if(a.isNumber(e))return e;var t=e;return a.isString(e)&&(t=e.replace("-","/"),t=new Date(t).getTime()),t}var a=e("bui-common/1.1.0/common"),n=e("bui-chart/1.1.0/src/axis/number"),s=function(e){s.superclass.constructor.call(this,e)};s.ATTRS={startDate:{},dateFormat:{},endDate:{}},a.extend(s,n),a.augment(s,{beforeRenderUI:function(){var e=this,t=r(e.get("startDate")),i=r(e.get("endDate"));t&&!e.get("min")&&e.set("min",t),i&&!e.get("max")&&e.set("max",i),s.superclass.beforeRenderUI.call(e)}}),i.exports=s}),define("bui-chart/1.1.0/src/axis/auto",["jquery","bui-common/1.1.0/common","bui-graphic/1.1.0/index"],function(e,t,i){function r(e){return null==e}function a(e){var t=1;if(1e-6>e)return t;for(;e>10;)t=10*t,e/=10;for(;1>e;)t/=10,e=10*e;return t}function n(e,t,i){i=i||I;var r=i==I?!1:!0,n=1;0>e&&(n=-1),e*=n;var c=a(e);return n*=c,e/=c,e=r?s(i,e):t&&n>0?A.snapFloor(i,e):A.snapCeiling(i,e),e*n}function s(e,t){for(var i=t,r=t,a=t,n=1;n<e.length;n++){var s=e[n];if(s>t){i=s;break}r=s}return a=Math.abs(r-t)<Math.abs(i-t)?r:i}function c(e,t,i){if(i)var r=Math.ceil(e/t,10);else var r=Math.floor(e/t,10);return r*t}function o(e,t){var i=t.toString(),r=i.indexOf(".");if(-1==r)return e;var a=i.substr(r+1).length;return parseFloat(e.toFixed(a))}function u(e){for(var t,t,i=e[0],r=e[0],a=e[0],n=e.length,s=0,c=1;n>c;c++){var o=e[c];o>i&&(i=o),r>o&&(r=o),a+=o}t=a/n;for(var c=0;n>c;c++)s+=Math.abs(e[c]-t);return s/=n,r==i&&(r>0?r=0:i=0),{max:i,min:r,avg:t,deviation:s}}function l(e,t,i){var r=[];return k.isArray(e[0])?i?k.each(e[0],function(t,i){for(var a=t,n=1;n<e.length;n++)a+=e[n][i];r.push(a)}):k.each(e,function(e){r=r.concat(e)}):r=e,t&&(r=$.map(r,t)),u(r)}function h(e){return e=new Date(e),k.Date.getDate(e).getTime()}function g(e){e=new Date(e);var t=k.Date.getDate(e);return k.Date.isDateEquals(e,t)||(t=k.Date.addDay(1,t)),t.getTime()}function d(e){return new Date(e).getFullYear()}function f(e){return new Date(e,0,1).getTime()}function m(e){return new Date(e).getMonth()}function v(e,t){var i=d(e),r=d(t),a=m(e),n=m(t);return 12*(r-i)+(n-a)%12}function p(e,t){return new Date(e,t,1).getTime()}function b(e,t){return Math.ceil((t-e)/L)}function x(e,t){return Math.ceil((t-e)/w)}function y(e,t){return Math.ceil((t-e)/60*1e3)}var k=e("bui-common/1.1.0/common"),A=e("bui-graphic/1.1.0/index").Util,I=[0,1,1.5,2,2.5,3,4,5,6,8,10],_=[0,1,2.5,5,10],S=5,C=7,T={};T.caculate=function(e,t){var i,a=e.min,s=e.max,u=e.data,h=e.interval,g=[],d=e.minCount||S,f=e.maxCount||C,m=(d+f)/2,v=!1;if(t&&("none"!=t&&(v=!0),"percent"==t&&(a=0,s=100,h=25)),r(a)||r(s)||r(h)){var p=l(u,null,v);if(r(s)&&(s=p.max+.05*(p.max-p.min)),r(a)&&(a=p.min),r(h)){var b=(s-a)/m;h=p.deviation>b?n(b,!0,_):p.deviation?n(p.deviation,!0,_):n(b,!0,_),i=parseInt((s-a)/h,10),i>f&&(i=f),d>i&&(i=d),h=n((s-a)/i,!0,_),s=c(s,h,!0),a=c(a,h),i=(s-a)/h}}r(i)&&(i=(s-a)/h),a=o(a,h),r(a)||g.push(a);for(var x=1;i>=x;x++)g.push(o(h*x+a,h));return{min:a,max:o(s,h),interval:h,count:i,ticks:g,info:p}},T.Time={};var P=6e4,w=36e5,L=864e5;T.Time.caculate=function(e){var t,i=e.min,a=e.max,n=e.data,s=e.interval,c=[];if(r(i)||r(a)||r(s)){var u=l(n,function(e){return k.isDate(e)&&(e=e.getTime()),k.isString(e)&&(e=e.replace(/-/gi,"/"),e=new Date(e)),e});if(r(a)&&(a=u.max),r(i)&&(i=u.min),a-i>L&&(i=h(i),a=g(a)),a==i)throw"max not  equal to min";if(r(s)){var A,I,_=a-i,S=L,C=365*S;s=parseInt(_/(e.maxCount||8)),A=s/C;var T=d(i);if(A>.51){I=Math.ceil(A),s=I*C;for(var M=d(a),O=T;M+I>O;O+=I)c.push(f(O));s=null}else if(A>.0834){for(var I=d(i),R=Math.floor(A/.0834),G=m(i),B=v(i,a),O=0;B+R>=O;O+=R)c.push(p(T,O+G));s=null}else if(s>S){var U=new Date(i),I=U.getFullYear(),R=U.getMonth(i),D=U.getDate(),V=Math.ceil(s/S),j=b(i,a);s=V*S;for(var O=0;j+V>=O;O+=V)c.push(new Date(I,R,D+O).getTime())}else if(s>w){var U=new Date(i),I=U.getFullYear(),R=U.getMonth(i),V=U.getDate(),q=U.getHours(),z=Math.ceil(s/w),F=x(i,a);s=z*w;for(var O=0;F+z>=O;O+=z)c.push(new Date(I,R,V,q+O).getTime())}else if(s>P){var E=y(i,a),N=Math.ceil(s/P);s=N*P;for(var O=0;E+N>=O;O+=N)c.push(i+O*P)}else{i=1e3*Math.floor(i/1e3);var W=Math.ceil((a-i)/1e3),H=Math.ceil(s/1e3);s=1e3*H;for(var O=0;W+H>O;O+=H)c.push(i+1e3*O)}}}if(!c.length){i=1e3*Math.floor(i/1e3),a=1e3*Math.ceil(a/1e3);for(var t=(a-i)/s,O=0;t>=O;O++)c.push(o(s*O+i,s))}return{max:a,min:i,interval:s,ticks:c,count:c.length}},i.exports=T}),define("bui-chart/1.1.0/src/axis/circle",["jquery","bui-common/1.1.0/common","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/axis/abstract","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels"],function(e,t,i){function r(e,t,i){var r=e.getCenter(),a={};return a.x=r.x+t*Math.sin(i*c),a.y=r.y-t*Math.cos(i*c),a}var a=e("bui-common/1.1.0/common"),n=e("bui-graphic/1.1.0/index").Util,s=e("bui-chart/1.1.0/src/axis/abstract"),c=Math.PI/180,o=function(e){o.superclass.constructor.call(this,e)};a.extend(o,s),o.ATTRS={type:{value:"circle"},startAngle:{value:0},endAngle:{value:360},margin:{value:20},radius:{},tickInterval:{},grid:{shared:!1,value:{line:{"stroke-width":1,stroke:"#C0D0E0"}}},formatter:{value:function(e){var t=this,i=t.get("ticks");if(a.isNumber(e)){var r=a.Array.indexOf(e,i);if(-1==r){var n=t.getTickAvgAngle();r=parseInt(e/n,10),e=i[r]}}return e}}},a.augment(o,{beforeRenderUI:function(){var e=this;o.superclass.beforeRenderUI.call(e);var t,i=e.get("tickInterval"),r=e.get("ticks"),a=e.get("startAngle"),n=e.get("endAngle");if(i&&!r){r=[],t=(n-a)/i;for(var s=0;t>s;s++)r.push(a+i*s);e.set("ticks",r)}},getCenter:function(){var e=this,t=e.get("plotRange");return t.cc},getRadius:function(){var e=this,t=e.get("radius"),i=e.get("plotRange");return t||(t=Math.min(i.getWidth(),i.getHeight())/2-e.get("margin"),e.set("radius",t)),t},getTickAvgAngle:function(){var e=this,t=e.get("ticks"),i=e.get("startAngle"),r=e.get("endAngle");return(r-i)/t.length},getLinePath:function(){var e=this,t=e.getCenter(),i=t.x,r=t.y,a=e.getRadius(),n=a;return[["M",i,r],["m",0,-n],["a",a,n,0,1,1,0,2*n],["a",a,n,0,1,1,0,-2*n],["z"]]},getOffsetPoint:function(e){var t=this,i=t.getOffsetByIndex(e),r=t.getRadius();return t.getCirclePoint(i,r)},getCirclePoint:function(e,t){return null==t&&(t=this.getRadius()),r(this,t,e)},getDistance:function(e,t){var i=this,r=i.getCenter();return Math.sqrt(Math.pow(e-r.x,2)+Math.pow(t-r.y,2))},getCircleAngle:function(e,t){var i=this,r=i.getCenter(),a=i.getDistance(e,t),n=Math.asin(Math.abs(e-r.x)/a)/Math.PI*180;return e>=r.x&&t<=r.y?n:e>=r.x&&t>=r.y?180-n:e<=r.x&&t>=r.y?n+180:360-n},getOffsetByIndex:function(e){var t=this,i=t.get("ticks"),r=i.length,a=t.get("startAngle"),n=t.get("endAngle");return a+(n-a)/r*e},getValue:function(e){return this.getSnapValue(e)},getSnapValue:function(e){var t=this,i=t.get("pointCache");return n.snapFloor(i,e)},getGridItemCfg:function(e){var t=this,i=t.getCenter();return{x1:i.x,y1:i.y,x2:e.x,y2:e.y}},addLabel:function(e,t,i){var r=this,a=r.get("margin"),n=r.getRadius();t=r.getCirclePoint(i,n+a),o.superclass.addLabel.call(r,e,t)},getTickEnd:function(e,t){var i=this,r=i.getRadius(),a=i.get("tickLine"),n=a.value,s=i.getCirclePoint(t,r+n);return{x2:s.x,y2:s.y}}}),i.exports=o}),define("bui-chart/1.1.0/src/axis/radius",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/axis/number","bui-chart/1.1.0/src/axis/base","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/axis/abstract","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/axis/grid","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/axis/number"),n=function(e){n.superclass.constructor.call(this,e)};n.ATTRS={circle:{},position:{value:"left"},type:{value:"radius"}},r.extend(n,a),r.augment(n,{beforeRenderUI:function(){n.superclass.beforeRenderUI.call(this);var e=this,t=e.get("circle");e.set("start",t.getCenter()),e.set("end",t.getCirclePoint(0))},getGridItemCfg:function(e){for(var t=this,i={},r=[],a=t.get("circle"),n=a.getCenter(),s=a.getTicksCount(),c=Math.abs(e.y-n.y),o=0;s>o;o++){var u=a.getOffsetByIndex(o),l=a.getCirclePoint(u,c);r.push(l)}return i.points=r,i.r=c,i.center=n,i},getPointByAngle:function(e,t){var i=this,r=i.get("circle"),a=r.getCenter(),n=i.getOffset(t);return r.getCirclePoint(e,Math.abs(n-a.y))}}),i.exports=n}),define("bui-chart/1.1.0/src/axis/abstract",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/axis/grid","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/labels"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/plotitem"),n=e("bui-chart/1.1.0/src/axis/grid"),s=e("bui-graphic/1.1.0/index").Util,c=e("bui-chart/1.1.0/src/mixin/showlabels"),o="x-chart-axis",u=function(e){u.superclass.constructor.call(this,e)};u.ATTRS={ticks:{},plotRange:{},line:{},tickLine:{},grid:{},labels:{},autoPaint:{value:!0},formatter:{}},r.extend(u,a),r.mixin(u,[c]),r.augment(u,{beforeRenderUI:function(){u.superclass.beforeRenderUI.call(this),this.set("pointCache",[])},renderUI:function(){var e=this;u.superclass.renderUI.call(e),e.renderLabels(),e.get("title")&&e._renderTitle(),e.get("autoPaint")&&e.paint()},paint:function(){var e=this;e._drawLines(),e._renderTicks(),e._renderGrid()},_renderTitle:function(){},_renderGrid:function(){var e,t=this,i=t.get("grid");i&&(e=t.get("parent").addGroup(n,i),t.set("gridGroup",e))},isInAxis:function(e,t){var i=this,r=i.get("plotRange");return r&&r.isInRange(e,t)},getLinePath:function(){},getOffsetPoint:function(){},getValue:function(){},getSnapValue:function(e){var t=this,i=t.get("pointCache");return s.snapTo(i,e)},getTicksCount:function(){return this.get("ticks").length},getTickOffsetPoint:function(e){return this.getOffsetPoint(e)},getOffsetByIndex:function(){},_drawLines:function(){var e,t=this,i=t.get("line"),a=t.get("ticks");if(i){e=t.getLinePath(),i=r.mix({path:e},i);var n=t.addShape({type:"path",elCls:o+"-line",attrs:i});t.set("lineShape",n)}t._processTicks(a)},_processTicks:function(e,t){var i=this,a=i.get("pointCache"),n=i.get("labels");e=e||i.get("ticks"),r.each(e,function(e,r){var s=i.getTickOffsetPoint(r),c=i.getOffsetPoint(r),o=i.getOffsetByIndex(r);a.push(o),i.get("tickLine")&&i._addTickItem(s,o),i.get("grid")&&i._addGridItem(s),n&&(t?n.items.push({text:i.formatPoint(e),x:c.x,y:c.y}):i.addLabel(i.formatPoint(e),c,o))})},_renderTicks:function(){var e=this,t=e.get("tickItems"),i=e.get("tickLine"),a="",n=r.mix({},i);if(t){r.each(t,function(e){var t=r.substitute("M{x1} {y1}L{x2} {y2}",e);a+=t}),delete n.value,n.path=a;var s=e.addShape({type:"path",elCls:o+"-ticks",attrs:n});e.set("tickShape",s)}},_addTickItem:function(e,t){var i=this,a=i.get("tickItems"),n={x1:e.x,y1:e.y},s=i.getTickEnd(n,t);a||(a=[],i.set("tickItems",a)),r.mix(n,s),a.push(n)},getTickEnd:function(){},formatPoint:function(e){var t=this,i=t.get("formatter");return i&&(e=i.call(this,e)),e},_addGridItem:function(e){var t,i=this,a=i.get("grid"),n=(i.get("plotRange"),{});a.items||(a.items=[]),t=i.getGridItemCfg(e),r.mix(n,t),a.items.push(n)},getGridItemCfg:function(){},remove:function(){{var e=this,t=e.get("gridGroup");e.get("labelsGroup")}t&&t.remove(),e.removeLabels(),u.superclass.remove.call(this)}}),i.exports=u}),define("bui-chart/1.1.0/src/axis/grid",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/plotitem","bui-graphic/1.1.0/index"],function(e,t,i){function r(e,t,i){var r=t.get(e);return r||(r=i,t.set(e,r)),r}function a(e,t){var i="",r=s.mix({},t);return s.each(e,function(e){var t=s.substitute("M{x1} {y1}L{x2} {y2}",e);i+=t}),r.path=i,r}function n(e){n.superclass.constructor.call(this,e)}var s=e("bui-common/1.1.0/common"),c=e("bui-chart/1.1.0/src/plotitem"),o=e("bui-graphic/1.1.0/index").Util,u="x-chart-grid";s.extend(n,c),n.ATTRS={zIndex:{value:1},elCls:{value:u},type:{value:"line"},line:{},minorLine:{},minorCount:{value:0},renderer:{},items:{},odd:{},even:{},animate:{value:!0},duration:{value:1e3}},s.augment(n,{renderUI:function(){var e=this;n.superclass.renderUI.call(e),e._drawLines()},_drawLines:function(){var e=this,t=e.get("line"),i=e.get("items");if(i){e._precessItems(i),e._drawGridLines(i,t,u+"-line"),e.get("minorCount")&&e.drawMinorLines()}},_precessItems:function(e){var t,i=this,r=i.get("minorCount"),a=i.get("renderer");s.each(e,function(e,n){a?a.call(this,e,n):r&&t&&i._addMonorItem(e,t),t&&(i.get("odd")||i.get("even"))&&i._drawOddEven(e,t,n),t=e})},change:function(e){var t=this;t.set("items",e),t._clearPre(),t._precessItems(e),t._changeGridLines(e,u+"-line",!0),t._changeMinorLinses()},_clearPre:function(){var e,t=this;t.get("minorCount")&&t.set("minorItems",[]),e=t.findBy(function(e){var t=e.get("elCls");return t==u+"-line"||t==u+"-minor"?!1:!0}),s.each(e,function(e){e.remove()})},_isVertical:function(e){return e.x1==e.x2?!0:!1},_drawGridLines:function(e,t,i){var r=this,a=r._linesToPath(e,t),n=r.addShape({type:"path",elCls:i,attrs:a});r.set("gridLine"+i,n)},_changeGridLines:function(e,t,i){var r=this,a=r.get("gridLine"+t);if(a){var n=r._linesToPath(e,{});i?o.animPath(a,n.path,2):a.attr("path",n.path)}else if(e&&e.length){var s;s=r.get(t==u+"-line"?"line":"minorLine"),r._drawGridLines(e,s,t)}},_linesToPath:function(e,t){var i,r=this,n=[],c=r.get("type");return"line"==c?0==e.length?"":a(e,t):(i=s.mix({},t),s.each(e,function(e){n=n.concat(r._getMultiplePath(e,c))}),i.path=n,i)},_getMultiplePath:function(e,t){var i=e.points,r=[];if("polygon"==t)s.each(i,function(e,t){r.push(0==t?["M",e.x,e.y]:["L",e.x,e.y])}),r.push(["L",i[0].x,i[0].y]),r.push(["z"]);else{var a=e.center.x,n=e.center.y,c=e.r,o=e.r;r=0==c?[]:[["M",a,n],["m",0,-o],["a",c,o,0,1,1,0,2*o],["a",c,o,0,1,1,0,-2*o]]}return r},_drawOddEven:function(e,t,i){var r,a,n=this,s=n.get("odd"),c=n.get("even");i%2==0?c&&(a=n._getBackItem(t,e,c),r="even"):s&&(a=n._getBackItem(t,e,s),r="odd"),a&&n.addShape({type:"path",elCls:u+"-"+r,attrs:a})},_getBackItem:function(e,t,i){var r=s.substitute("M {x1} {y1} L{x2} {y2}",e);return r+=s.substitute("L{x2} {y2} L{x1} {y1}Z",t),i=s.merge(i,{path:r})},_getMinorItem:function(e,t,i,r){var a=this,n=a._isVertical(e,t),s=n?"x":"y",c=n?"y":"x",o=t[s+"1"]-e[s+"1"],u=o/(r+1),l={};return l[s+"1"]=l[s+"2"]=(i+1)*u+e[s+"1"],l[c+"1"]=e[c+"1"],l[c+"2"]=e[c+"2"],l},_addMonorItem:function(e,t){var i=this,a=r("minorItems",i,[]),n=i.get("minorCount");if(n)for(var s=0;n>s;s++){var c=i._getMinorItem(t,e,s,n);a.push(c)}},drawMinorLines:function(){var e=this,t=e.get("minorLine"),i=e.get("minorItems");e._drawGridLines(i,t,u+"-minor")},_changeMinorLinses:function(){var e=this,t=e.get("minorItems");e._changeGridLines(t,u+"-minor")}}),i.exports=n}),define("bui-chart/1.1.0/src/mixin/showlabels",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/plotitem","bui-graphic/1.1.0/index"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/labels"),n=function(){};n.ATTRS={labels:{}},r.augment(n,{renderLabels:function(){var e,t=this,i=t.get("labels");i&&(i.items||(i.items=[]),e=t.addGroup(a,i),t.set("labelsGroup",e))},resetLabels:function(e){var t=this,i=t.get("labels");if(i){var a=t.get("labelsGroup"),n=a.get("children"),s=n.length;e=e||i.items,r.each(e,function(e,i){if(s>i){var r=n[i];a.changeLabel(r,e)}else t.addLabel(e.text,e)});for(var c=s-1;c>=e.length;c--)n[c].remove()}},addLabel:function(e,t){var i,r=this,a=r.get("labelsGroup"),n={};return a&&(n.text=e,n.x=t.x,n.y=t.y,n.point=t,i=a.addLabel(n)),i},removeLabels:function(){var e=this,t=e.get("labelsGroup");t&&t.remove()}}),i.exports=n}),define("bui-chart/1.1.0/src/labels",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/plotitem","bui-graphic/1.1.0/index"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/plotitem"),n=e("bui-graphic/1.1.0/index").Util,s="x-chart-labels",c=function(e){c.superclass.constructor.call(this,e)};c.ATTRS={elCls:{value:s},zIndex:{value:6},items:{},label:{},renderer:{},animate:{value:!0},duration:{value:400}},r.extend(c,a),r.augment(c,{renderUI:function(){var e=this;c.superclass.renderUI.call(e),e._drawLabels()},addLabel:function(e){var t=this,i=t.get("items"),r=i.length;return i.push(e),t._addLabel(e,r)},_drawLabels:function(){var e=this,t=e.get("items");r.each(t,function(t,i){e._addLabel(t,i)})},_addLabel:function(e,t){var i=this,r=i._getLabelCfg(e,t);return i._createText(r)},_getLabelCfg:function(e,t){var i=this,a=i.get("label"),n=i.get("renderer");if(!r.isObject(e)){var s=e;e={},e.text=s}return n&&(e.text=n(e.text,e,t)),null==e.text&&(e.text=""),e.text=e.text.toString(),e.x=(e.x||0)+(a.x||0),e.y=(e.y||0)+(a.y||0),cfg=r.merge(a,e)},changeLabel:function(e,t){var i=this,a=r.Array.indexOf(e,i.get("children")),s=i._getLabelCfg(t,a);e&&(e.attr("text",s.text),(e.attr("x")!=s.x||e.attr("y")!=s.y)&&(n.svg&&i.get("animate")&&!s.rotate?(s.rotate&&e.attr("transform",""),e.animate({x:s.x,y:s.y},i.get("duration"))):(e.attr(s),s.rotate&&e.attr("transform",r.substitute("r{rotate} {x} {y}",s)))))},_createText:function(e){return this.addShape("label",e)}}),i.exports=c}),define("bui-chart/1.1.0/src/series/base",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/mixin/activedgroup"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/plotitem"),n=e("bui-chart/1.1.0/src/mixin/showlabels"),s=e("bui-chart/1.1.0/src/mixin/actived"),c=e("bui-chart/1.1.0/src/markers"),o=function(e){o.superclass.constructor.call(this,e)};r.extend(o,a),r.mixin(o,[n,s]),o.ATTRS={zIndex:{value:5},markers:{},labels:{},animate:{value:!1},duration:{value:1e3},changeDuration:{value:400},inLegend:{value:!0},data:{value:[],shared:!1},autoPaint:{value:!0},enableMouseTracking:{value:!0},stickyTracking:{value:!0},xField:{value:"x"},yField:{value:"y"},itemName:{value:"seriesItem"},groupName:{value:"series"}},r.augment(o,{renderUI:function(){var e=this;o.superclass.renderUI.call(e),e.processColor(),e.renderLabels(),e.renderMarkers(),e.get("autoPaint")&&e.paint()},bindUI:function(){var e=this;if(o.superclass.bindUI.call(e),e.get("enableMouseTracking")){e.onMouseOver();var t=e.get("parent");e.on("mouseover",function(){t.setActivedItem&&(t.isItemActived(e)||t.setActivedItem(e))})}e.get("stickyTracking")||e.onMouseOut()},changeData:function(e,t){var i=this,r=i.get("data"),a=i.get("parent");e!=r&&i.set("data",e),t&&(a?a.repaint():i.get("visible")&&i.repaint())},addPoint:function(e,t,i){var r=this,a=r.get("data");a.push(e),t&&(a.shift(),i&&a.unshift(a[0])),r.changeData(a,i),t&&setTimeout(function(){a.shift(),r.set("points",null),i&&(r.shiftPoint(),r.changeShapes(r.getPoints(),!1))},800)},shiftPoint:function(){var e,t=this,i=t.get("markersGroup"),r=t.get("labelsGroup"),a=t.get("xAxis");if(i&&(e=i.getChildAt(0),e&&e.remove()),r&&(e=r.getChildAt(0),e&&e.remove()),a){var n=a.get("labelsGroup");n&&(e=n.getChildAt(0),e&&e.remove())}},getData:function(){},onMouseOver:function(){},onMouseOut:function(){},onStickyTracking:function(){},processColor:function(){},getTrackingInfo:function(){},getPoints:function(){var e=this,t=e.get("points");return t||(t=e._getPoints(),e.set("points",t)),t},_getPoints:function(){var e=this,t=e.get("data"),i=e.get("xField"),a=e.get("yField"),n=[];return r.each(t,function(t,s){var c;if(r.isObject(t)){var o=t[i],u=t[a];c=null==o?e.getPointByIndex(u,s):e.getPointByValue(o,u),c.obj=t}else r.isArray(t)?(c=e.getPointByValue(t[0],t[1]),c.arr=t):c=e.getPointByIndex(t,s);e.processPoint(c,s),n.push(c)}),n},processPoint:function(){},getPointByObject:function(){},getPointByIndex:function(){},getPointByValue:function(){},getTipItem:function(e){return e.value},findPointByValue:function(e){var t,i=this,a=i.get("points");return r.each(a,function(r){return i.snapEqual(r.xValue,e)&&null!=r.value?(t=r,!1):void 0}),t},snapEqual:function(e,t){return e==t},draw:function(){},paint:function(){var e=this,t=e.getPoints();!e.get("isPaint")&&e.get("data").length&&(e.set("painting",!0),e.draw(t,function(){e.sort()}),e.set("isPaint",!0),e.set("painting",!1))},repaint:function(){var e,t=this,i=t.get("labels"),a=t.get("markers");return t.set("points",null),t.get("isPaint")||t.get("painting")?(e=t.getPoints(),i&&(i.items=[]),a&&(a.items=[]),t.changeShapes(e),r.each(e,function(e){if(i){var t={};t.text=e.value,t.x=e.x,t.y=e.y,i.items.push(t)}a&&a.items.push(e)}),t._changeMarkers(),void t._changeLabels()):void t.paint()},changeShapes:function(){},addMarker:function(e){var t,i=this,a=i.get("markersGroup"),n={};return a&&(n.x=e.x,n.y=e.y,e.obj&&e.obj.marker&&r.mix(n,e.obj.marker),t=a.addMarker(n),t.set("point",e)),t},renderMarkers:function(){var e,t=this,i=t.get("markers");i&&(i||(i.items=[]),e=t.addGroup(c,i),t.set("markersGroup",e))},_changeMarkers:function(){var e,t=this,i=t.get("markers");i&&(e=t.get("markersGroup"),e.change(i.items))},_changeLabels:function(){this.resetLabels()},removeMarkers:function(){var e=this,t=e.get("markersGroup");t&&t.remove()},getActiveAtrrs:function(){},getUnActiveAttrs:function(){},setActiveStatus:function(){},remove:function(){var e=this;e.removeMarkers(),e.removeLabels(),o.superclass.remove.call(this)}}),i.exports=o}),define("bui-chart/1.1.0/src/series/line",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/series/cartesian","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/series/base","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/mixin/activedgroup"],function(e,t,i){function r(e,t,i){e&&!e[t]&&(e[t]=i)}function a(e){a.superclass.constructor.call(this,e)}var n=e("bui-common/1.1.0/common"),s=e("bui-chart/1.1.0/src/series/cartesian"),c=e("bui-graphic/1.1.0/index").Util;n.extend(a,s),a.ATTRS={type:{value:"line"},elCls:{value:"x-chart-line-series"},connectNulls:{value:!1},line:{},lineActived:{},tolerance:{value:20},smooth:{value:!1}},n.augment(a,{processColor:function(){var e=this,t=e.get("color");
if(t){var i=e.get("line"),a=e.get("markers");r(i,"stroke",t),a&&!/http/.test(a.marker.symbol)&&(r(a.marker,"stroke",t),r(a.marker,"fill",t))}},onStickyTracking:function(e){var t=this,i=e.point,r=t.get("markersGroup"),a=t.getSnapMarker(i);r&&r.setActivedItem(a)},changeShapes:function(e,t){e=e||this.getPoints();var i=this,r=i.get("lineShape"),a=i.points2path(e);if(null==t&&(t=i.get("animate")),r)if(t){if(c.svg&&i.get("smooth")){var n=r.getPath();r.attr("path",a),a=r.attr("path"),r.attr("path",n)}c.animPath(r,a)}else r.attr("path",a)},draw:function(e,t){function i(){a.drawTracker(e),t&&t()}var r,a=this,s=a.get("animate"),o=a.get("duration"),u="";if(s)if(r=a._createLine(u),a.isInCircle())a.circleAnimate(e,r);else{var l=0,h=[],g=e.length;c.animStep(o,function(t){var i=l;if(l=parseInt(t*g,10),l>g-1&&(l=g-1),l!=i){h=e.slice(0,l+1),u=a.points2path(h),r.attr("path",u),a.drawInner(h);for(var n=i;l>n;n++)a._drawPoint(e[n])}1==t&&a._drawPoint(e[l])},i)}else u=a.points2path(e),r=a._createLine(u),n.each(e,function(e){a._drawPoint(e)}),a.drawInner(e),i()},circleAnimate:function(e,t){var i,r=this,a=r.getCircle(),s=a.getCenter(),c=[],o=r.getBaseValue();n.each(e,function(){var e=n.mix({value:o},s);c.push(e),r._drawPoint(e)}),i=r.points2path(c),t.attr("path",i),r.drawInner(c),r.repaint()},drawInner:function(){},_drawPoint:function(e){var t=this;t.get("markers")&&!t.get("markersGroup").get("single")&&t.addMarker(e),t.get("labels")&&t.addLabel(e.value,e)},_createLine:function(e){var t=this,i=t.get("line"),r=n.mix({},i);return r.path=e,lineShape=t.addShape("path",r),t.set("lineShape",lineShape),lineShape},drawTracker:function(e){var t,i=this,r=i.get("line"),a=i.get("tolerance"),s=i.points2tracker(e),c=n.mix({},r),o=Number(r["stroke-width"]);c["stroke-width"]=o+a,c["stroke-opacity"]=.001,c.path=s,t=i.addShape("path",c),i.set("trackerShape",t)},points2path:function(e){if(!e.length)return"";var t,i,r=this,a=r.get("smooth"),s=r.get("connectNulls"),c="";return e.length<=2&&(a=!1),n.each(e,function(e){if(null==e.value){if(s)return;i=""}else i=null==t||null==t.value?a?"M{x} {y} R":"M{x} {y}":a?" {x} {y}":"L{x} {y}";c+=n.substitute(i,e),t=e}),r.isInCircle()&&(c+="z"),c},points2tracker:function(e){if(!e.length)return"";var t=this,i=t.get("tolerance"),r=(e[0],"M"+(e[0].x-i)+" "+(e[0].y||0));return n.each(e,function(e){if(null!=e.value){var t="L{x} {y}";r+=n.substitute(t,e)}}),t.isInCircle()&&(r+="z"),r},setActiveStatus:function(e){var t=this,i=t.get("line"),r=t.get("lineShape"),a=t.get("lineActived");if(e)a&&r.attr(a);else{i&&r.attr(i);var n=t.get("markersGroup");n&&n.clearActivedItem()}},getSnapMarker:function(e){var t=this,i=t.get("markersGroup"),r=null;if(i)if(t.isInCircle()){var a=t.getTrackingInfo(e);r=i.getSnapMarker(a)}else r=i.getSnapMarker(e.x);return r}}),i.exports=a}),define("bui-chart/1.1.0/src/series/area",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/series/line","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/series/stacked","bui-chart/1.1.0/src/series/cartesian","bui-chart/1.1.0/src/series/base","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/mixin/activedgroup"],function(e,t,i){function r(e,t,i){e&&!e[t]&&(e[t]=i)}var a=e("bui-common/1.1.0/common"),n=e("bui-chart/1.1.0/src/series/line"),s=e("bui-graphic/1.1.0/index").Util,c=e("bui-chart/1.1.0/src/series/stacked"),o=/^M.*(M).*$/,u=function(e){u.superclass.constructor.call(this,e)};u.ATTRS={area:{shared:!1,value:{stroke:"","fill-opacity":"0.70"}}},a.extend(u,n),a.mixin(u,[c]),a.augment(u,{processColor:function(){u.superclass.processColor.call(this);var e=this,t=e.get("color"),i=e.get("area");r(i,"fill",t)},renderUI:function(){u.superclass.renderUI.call(this);var e=this,t=e.get("canvas"),i=e.get("markersGroup");i&&e.isStacked()&&$(i.get("node")).appendTo(t.get("node"))},hide:function(){u.superclass.hide.call(this);var e=this,t=e.get("markersGroup");t&&t.hide()},show:function(){u.superclass.show.call(this);var e=this,t=e.get("markersGroup");t&&t.show()},drawInner:function(e){var t=this,i=t.get("areaShape");if(i){var r=t._getAreaPath(e);i.attr("path",r)}else t.drawArea(e)},_getAreaPath:function(e){var t,i=this,r=i.get("stackType");return t=r&&"none"!=r?i.points2StackArea(e):i.points2area(e)},changeShapes:function(){u.superclass.changeShapes.call(this);var e=this,t=e.get("areaShape"),i=e.getPoints(),r=e._getAreaPath(i);s.animPath(t,r)},drawArea:function(e){var t,i=this,r=i.get("area"),n=i.isStacked()?i.points2StackArea(e):i.points2area(e),s=a.mix({path:n},r);t=i.addShape("path",s),i.set("areaShape",t)},processPoint:function(e,t){var i=this,r=i.get("stackType");r&&"none"!=r&&i.processStackedPoint(e,t)},points2StackArea:function(e){var t,i,r=this,a=e.length,n=r.getBaseValue(),s=e[0],c=e[a-1],o=r.isInCircle(),u="";if(a){if(i=r.getVisiblePrev(),t=r.points2path(e),u=t,i){var l=i.getPoints().slice(0,e.length),h=l[0],g=r.points2path(l.reverse());g=g.replace("M","L"),u=o?t+"L"+h.x+" "+h.y+g:t+g}else o||(u="M "+s.x+" "+n+t.replace("M","L"),u=u+"L "+c.x+" "+n);u&&!o&&(u+="z")}return u},points2area:function(e){var t,i=this,r=e.length,n=i.getBaseValue(),c=e[0],u=e[r-1],l=i.isInCircle(),h="";if(r)if(t=i.points2path(e),l){{i.getCircleCenter()}h=t}else if(h="M "+c.x+" "+n,h+=t.replace("M","L"),o.test(h)){h=s.parsePathString(h);var g=[],d=c;a.each(h,function(e,t){if(0!==t&&"M"==e[0]){var i=[],r=[],a=[],s=h[t-1];i[0]="L",i[1]=s[1],i[2]=n,r[0]="L",r[1]=d.x,r[2]=n,a[0]="M",a[1]=e[1],a[2]=n,"R"==s[0]?(s[0]="L",e[0]="R"):e[0]="L",g.push(i),g.push(r),g.push(a),d=e}g.push(e)}),h=g,h.push(["L",u.x,n]),s.svg&&h.push(["Z"])}else h=h+"L "+u.x+" "+n+"z";return h}}),i.exports=u}),define("bui-chart/1.1.0/src/series/column",["jquery","bui-common/1.1.0/common","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/series/cartesian","bui-chart/1.1.0/src/mixin/activedgroup","bui-chart/1.1.0/src/series/stacked","bui-chart/1.1.0/src/series/itemgroup","bui-chart/1.1.0/src/series/base","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/labels"],function(e,t,i){function r(e,t){var i=Raphael.color(e),r=i.l*(1+t);return Raphael.hsl2rgb(i.h,i.s,r).hex}function a(e,t,i,r,a){var n,s=a.getCenter(),c=s.x,o=s.y,u=a.getCirclePoint(e,i),l=a.getCirclePoint(t,i);if(r){var h=a.getCirclePoint(e,r),g=a.getCirclePoint(t,r);n=[],n.push(["M",h.x,h.y]),n.push(["L",u.x,u.y]),n.push(["A",i,i,0,+(t-e>180),1,l.x,l.y]),n.push(["L",g.x,g.y]),n.push(["A",r,r,0,+(t-e>180),0,h.x,h.y]),n.push(["z"])}else n=["M",c,o,"L",u.x,u.y,"A",i,i,0,+(t-e>180),1,l.x,l.y,"z"];return n}var n=e("bui-common/1.1.0/common"),s=e("bui-graphic/1.1.0/index").Util,c=e("bui-chart/1.1.0/src/series/cartesian"),o=e("bui-chart/1.1.0/src/mixin/activedgroup"),u=e("bui-chart/1.1.0/src/series/stacked"),l=e("bui-chart/1.1.0/src/series/itemgroup"),h=function(e){h.superclass.constructor.call(this,e)};h.ATTRS={type:{value:"column"},elCls:{value:"x-chart-column"},columnWidth:{},columnOffset:{value:0},cancelSelect:{value:!1},stackPadding:{value:1},animate:{value:!0},duration:{value:1e3},item:{shared:!1,value:{stroke:"none","stroke-width":1,"fill-opacity":.75}}},n.extend(h,c),n.mixin(h,[l,o,u]),n.augment(h,{processColor:function(){var e=this,t=e.get("color");if(t){var i=e.get("item");i.fill||(i.fill=t)}},bindUI:function(){h.superclass.bindUI.call(this),this.bindItemClick()},draw:function(e){var t=this;t.resetWidth(),n.each(e,function(e,i){t._drawPoint(e,i)}),t.get("animate")&&t.animateItems(),t.sort()},_drawPoint:function(e,t){var i=this,r=i.addItem(e,t);if(i.get("labels")){var a=i.addLabel(e.value,e);r.set("label",a)}},addPoint:function(e,t,i){var r=this,a=r.get("data");a.push(e),t&&(a.shift(),i&&r.shiftPoint()),r.changeData(a,i)},shiftPoint:function(){var e=this,t=e.getItems()[0];t&&t.remove(),h.superclass.shiftPoint.call(this)},resetWidth:function(){if(this.isInCircle())return void this.resetCircleWidth();var e,t,i,r,a=this,n=a.get("xAxis"),s=n.getTickAvgLength(),c=10,o=a._getIndexInfo();t=o.count,e=o.curIndex,i=s/2/t,c=.5*i,r=.5*(s-t*i-(t-1)*c)+((e+1)*i+e*c)-.5*i-.5*s,a.set("columnWidth",i),a.set("columnOffset",r)},_getIndexInfo:function(){var e,t,i=this,r=i.get("parent"),a=r.getSeries(),s=[];return i.isStacked()?(t=1,e=0):(n.each(a,function(e){e.get("visible")&&"column"==e.get("type")&&s.push(e)}),t=s.length,e=n.Array.indexOf(i,s)),{curIndex:e,count:t}},resetCircleWidth:function(){var e,t,i,r,a=this,n=a.get("xAxis"),s=n.getTickAvgAngle();info=a._getIndexInfo(),t=info.count,e=info.curIndex,i=s/t,r=e*i,a.set("columnWidth",i),a.set("columnOffset",r)},changeShapes:function(e){var t=this;t.resetWidth(),t.changePoints(e)},getActiveItems:function(){return this.getItems()},isItemActived:function(e){return e.get("actived")},setItemActived:function(e,t){var i=e.getCfgAttr("attrs").fill;t?(e.attr("fill",r(i,.2)),e.set("actived",!0)):(e.attr("fill",i),e.set("actived",!1))},setItemSelected:function(e,t){var i=e.getCfgAttr("attrs"),r=i.fill,a=i.stroke,n=i["stroke-width"];t?(e.attr({stroke:s.dark(r,.3),"stroke-width":2}),e.set("selected",!0)):(e.attr({stroke:a,"stroke-width":n}),e.set("selected",!1))},onStickyTracking:function(e){var t=this,i=t.getTrackingInfo(e.point),r=t.getItems();i&&n.each(r,function(e){e.get("point").x==i.x&&e.get("point").y==i.y&&t.setActivedItem(e)})},pointToFactorPath:function(e,t){var i,r,n=this,s=(n.get("item"),n.get("columnWidth")),c=n.get("columnOffset"),o=0,u=n.getBaseValue(),l=n.isInCircle(),h=[];if(l){var g=n.get("xAxis"),d=e.xValue,f=c+d,m=c+d+s,v=e.r||g.getDistance(e.x,e.y),p=e.ir||0;v*=t,p*=t,h=a(f,m,v,p,g)}else n.isStacked()&&e.lowY?(r=e.lowY,o=n.get("stackPadding")):r=u,r-=o,i=e.y-r,h.push(["M",e.x+c-s/2,u+(r-u)*t]),h.push(["v",i*t]),h.push(["h",s]),h.push(["v",-1*i*t]),h.push(["z"]);return h},processPoint:function(e,t){var i=this,r=i.get("stackType");r&&"none"!=r&&i.processStackedPoint(e,t)}}),i.exports=h}),define("bui-chart/1.1.0/src/series/scatter",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/series/cartesian","bui-chart/1.1.0/src/mixin/activedgroup","bui-chart/1.1.0/src/series/base","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/labels"],function(e){function t(e,t,i){e&&!e[t]&&(e[t]=i)}var i=e("bui-common/1.1.0/common"),r=e("bui-chart/1.1.0/src/series/cartesian"),a=(e("bui-chart/1.1.0/src/mixin/activedgroup"),function(e){a.superclass.constructor.call(this,e)});return a.ATTRS={elCls:{value:"x-chart-scatter"},stickyTracking:{value:!1},animate:{value:!1}},i.extend(a,r),i.augment(a,{processColor:function(){var e=this,i=e.get("color");if(i){var r=e.get("markers");r&&(t(r.marker,"stroke",i),t(r.marker,"fill",i))}},draw:function(e){var t=this;i.each(e,function(e){t.addMarker(e)})},onMouseOver:function(){var e=this,t=e.get("markersGroup");t&&t.on("mouseover",function(e){var i=e.target,r=i.shape;r&&t.setActivedItem(r)})},getTrackingInfo:function(){var e,t,i=this,r=i.get("markersGroup");return r&&(e=r.getActived(),e&&(t=e.get("point"))),t},onMouseOut:function(){var e=this,t=e.get("markersGroup");t&&t.on("mouseout",function(e){var i=e.target,r=i.shape;r&&t.clearActivedItem(r)})}}),a}),define("bui-chart/1.1.0/src/series/bubble",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/series/cartesian","bui-chart/1.1.0/src/mixin/activedgroup","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/series/base","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/labels"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/series/cartesian"),n=e("bui-chart/1.1.0/src/mixin/activedgroup"),s=e("bui-graphic/1.1.0/index").Util,c=function(e){c.superclass.constructor.call(this,e)};c.ATTRS={elCls:{value:"x-chart-bubble"},type:{value:"buble"},circle:{shared:!1,value:{}},activeCircle:{value:{}},animate:{value:!0},stickyTracking:{value:!1}},r.extend(c,a),r.mixin(c,[n]),r.augment(c,{processColor:function(){var e=this,t=e.get("color");if(t){var i=e.get("circle");i&&(s.trySet(i,"stroke",t),s.trySet(i,"fill",t))}},renderUI:function(){c.superclass.renderUI.call(this),this._renderGroup()},draw:function(e){var t=this;r.each(e,function(e){t.addBubble(e)})},changeShapes:function(){var e=this,t=e.getPoints(),i=e.getItems();r.each(i,function(i,r){var a=t[r];i.animate({cx:a.x,cy:a.y},e.get("changeDuration")),i.set("point",a)})},getItems:function(){return this.get("group").get("children")},getActiveItems:function(){return this.getItems()},_renderGroup:function(){var e=this,t=e.addGroup();e.set("group",t)},setItemActived:function(e,t){var i=this,r=i.get("circle"),a=i.get("activeCircle");t?(e.attr(a),e.set("actived",!0)):(e.attr(r),e.set("actived",!1))},getTrackingInfo:function(){var e=this,t=e.getActived();return t&&t.get("point")},isItemActived:function(e){return e.get("actived")},addBubble:function(e){var t,i,a=this,n=a.get("circle"),c=5,o=r.mix({},n);e.obj&&(c=e.obj.r),e.arr&&(c=e.arr[2]),t=a._getRadius(c),o.cx=e.x,o.cy=e.y,a.get("animate")&&s.svg?(o.r=0,i=a.get("group").addShape("circle",o),i.animate({r:t},a.get("duration"))):(o.r=t,i=a.get("group").addShape("circle",o)),i.set("point",e)},_getRadius:function(e){return Math.pow(e,.75)},onMouseOver:function(){var e=this;e.get("group").on("mouseover",function(t){var i=t.target,r=i.shape;e.setItemActived(r,!0)})},onMouseOut:function(){var e=this;e.get("group").on("mouseout",function(t){var i=t.target,r=i.shape;e.setItemActived(r,!1)})}}),i.exports=c}),define("bui-chart/1.1.0/src/series/pie",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/series/itemgroup","bui-chart/1.1.0/src/mixin/activedgroup","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/series/base","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/labels"],function(e,t,i){function r(e,t){if(u.isNumber(t))return t;var i=s(e),r=n(t),a=i.getWidth();return i.tl.x+a*r}function a(e,t){if(u.isNumber(t))return t;var i=s(e),r=n(t),a=i.getHeight();return i.tl.y+a*r}function n(e){return.01*parseFloat(e)}function s(e){return e.get("parent").get("plotRange")}function c(e,t,i,r,a){var n=i-Math.acos((r-t)/r)/Math.PI*180;e.orignAngle=e.angle,e.angle=n,e.orignX=e.x,e.orignY=e.y,e.x=a.x+(r+5)*Math.cos(e.angle*f),e.y=a.y+(r+5)*Math.sin(e.angle*f)}function o(e,t,i,r,a){var n=parseInt(2*t/v,10),s=e.y+t,o=e.y-t;n<i.length&&i.splice(n,i.length-n);for(var u,l,h=0,g=i.length,d=0;g>d;d++){var f=i[d],m=(f.angle,f.y);if(l=g-d,u=a>0?(s-m)/l:(m-o)/l,h=d,v>u){h=d+1;break}}if(h&&g-1>h){var p=h-1,b=i[p],m=b.y,x=a>0?s:o;l=g-p-1,u=Math.abs(x-m)/l,v>u&&(u=v);for(var d=g-1;d>=p;d--){var y=(g-1-d)*u;c(i[d],y,r,t,e)}for(var k=a>0?o:s,A=!1,d=p-1;d>0;d--){var I=i[d];if(!A&&Math.abs(k-I.y)/(d+1)<v&&(A=!0),A){var y=Math.abs(i[d+1].y-x)+v;c(i[d],y,r,t,e)}}}}var u=e("bui-common/1.1.0/common"),l=e("bui-chart/1.1.0/src/series/itemgroup"),h=e("bui-chart/1.1.0/src/mixin/activedgroup"),g=e("bui-graphic/1.1.0/index").Util,d=e("bui-chart/1.1.0/src/series/base"),f=Math.PI/180,m=5,v=16,p=function(e){p.superclass.constructor.call(this,e)};p.ATTRS={size:{value:"80%"},innerSize:{},center:{value:["50%","50%"]},colors:{},colorHighlight:{value:0},radius:{},startAngle:{value:-90},endAngle:{value:270},xField:{value:"name"},stickyTracking:{value:!1},animate:{value:!0},duration:{value:1e3}},u.extend(p,d),u.mixin(p,[l,h]),u.augment(p,{draw:function(e){function t(){i&&r.setSelected(i)}var i,r=this;u.each(e,function(e,t){r.formatPoint(e,t);var a=r.addItem(e,t);e.obj&&e.obj.selected&&(i=a)}),r.get("animate")?r.animateItems(t):t(),r.get("labelsGroup")&&(r.processLabels(e),r.get("labelsGroup").toFront())},changeShapes:function(e){var t=this;u.each(e,function(e,i){t.formatPoint(e,i)}),t.changePoints(e)},processLabels:function(e){var t=this,i=t.get("labelsGroup"),r=i.get("distance"),a=[],n=t.getCenter(),s=t.getRadius(),c=s+r,l=t.get("startAngle"),h=(t.get("endAngle"),[]);if(u.each(e,function(e){var n=t._getLabelCfg(e,r,c);0>r?i.addLabel(n):n.factor>0?h.push(n):a.push(n)}),a.length){var g;g=l>=-90?270:-90,o(n,c,a,g,-1),u.each(a,function(e){i.addLabel(e),t.lineToLabel(e,s,r)})}h.length&&(o(n,c,h,90,1),u.each(h,function(e){i.addLabel(e),t.lineToLabel(e,s,r)}))},resetLabels:function(){var e=this,t=e.get("labelsGroup"),i=e.get("lineGroup");t&&(t.clear(),i&&i.clear(),e.processLabels(e.getPoints()))},lineToLabel:function(e,t,i){var r,a=this,n=e.orignAngle||e.angle,s=a.getCenter(),c=a._getOffset(n,t+m/2),o=a.get("lineGroup"),u=[];u.push(["M",s.x+c.x,s.y+c.y]),null!=e.orignX?(r=a._getOffset(n,t+i/2),u.push(["R",s.x+r.x,s.y+r.y,e.x,e.y])):u.push(["L",e.x,e.y]),o||(o=a.addGroup(),a.set("lineGroup",o)),o.addShape("path",{path:u,fill:null,stroke:e.color})},bindUI:function(){p.superclass.bindUI.call(this),this.bindItemClick()},onMouseOver:function(){var e=this;e.on("mouseover",function(t){var i=t.target,r=i.shape;r&&e.setActivedItem(r)})},_getLabelCfg:function(e,t,i){var r=this,a=e.startAngle+(e.endAngle-e.startAngle)/2,n=r.getCenter(),s=n.x+(i+m)*Math.cos(a*f),c=n.y+(i+m)*Math.sin(a*f),o={},u=1;return o.x=s,o.y=c,0>t?a>-90&&90>=a?(o["text-anchor"]="end",o.rotate=a):(o["text-anchor"]="start",o.rotate=a-180):a>-90&&90>=a?(o["text-anchor"]="start",u=1):(u=-1,o["text-anchor"]="end"),o.factor=u,o.angle=a,o.color=e.color,o.point=e,o.text=e.xValue,o},getActiveItems:function(){return this.getItems()},setItemActived:function(e,t){var i=e.getCfgAttr("attrs").fill;t?(e.attr({fill:g.highlight(i,.1)}),e.set("actived",!0)):(e.attr({fill:i}),e.set("actived",!1))},getTrackingInfo:function(){var e=this,t=e.getActived();return t&&t.get("point")},isItemActived:function(e){return e.get("actived")},getRadius:function(){var e=this,t=e.get("radius");return t||(t=e.calculateRadius(e.get("size")),e.set("radius",t)),t},getInnerRadius:function(){var e=this,t=e.get("innerRadius"),i=e.get("innerSize");return!t&&i&&(t=e.calculateRadius(i),e.set("innerRadius",t)),t},calculateRadius:function(e){var t=this,i=t.get("parent").get("plotRange"),r=n(e);return Math.min(i.getWidth(),i.getHeight())/2*r},getCenter:function(){var e,t=this,i=t.get("centerPoint");return i||(i={},e=t.get("center"),i.x=r(t,e[0]),i.y=a(t,e[1]),t.set("centerPoint",i)),i},getItemCfg:function(e){var t=this,i=t.get("item"),r=e.obj,a={};return u.mix(a,i),r&&r.attrs&&u.mix(a,r.attrs),a.fill=e.color,t.get("allowPointSelect")&&(a.cursor="pointer"),a},_getColor:function(e){var t,i=this,r=i.get("colors"),a=i.get("colorHighlight");return e%=r.length,t=r[e],a&&(t=g.highlight(a)),t},formatPoint:function(e,t){var i=this,r=i.getVisiblePoints(),a=i._getPiePercent(e,r),n=i.get("startAngle"),s=i.get("endAngle"),c=s-n;e.percent=a.percent,e.obj&&e.obj.attrs&&(e.color=e.obj.attrs.fill),e.color=e.color||i._getColor(t),e.prePercent=a.prePercent,e.startAngle=n+c*a.prePercent,e.endAngle=n+c*(e.prePercent+e.percent)},getPointByValue:function(e,t){return{xValue:e,value:t}},_getPiePercent:function(e,t){var i=0,r=0,a=u.Array.indexOf(e,t),n={};return u.each(t,function(e,t){a>t&&(r+=e.value),i+=e.value}),n.percent=e.value/i,n.prePercent=r/i,n},getVisiblePoints:function(){var e=this;return e.getPoints()},animateItem:function(e,t){var i=this,r=e.get("point"),a=r.startAngle,n=r.endAngle,s=t==e.get("prePoint"),c=s?t.startAngle:t.endAngle,o=s?t.endAngle:t.endAngle,u=e.get("animHadler");u&&g.stopStep(u),u=g.animStep(i.get("changeDuration"),function(t){var r,u,l;if(s?(u=c+(a-c)*t,l=o+(n-o)*t):(u=c-(c-a)*t,l=o-(o-n)*t),r=i._getPiePath(u,l),e.attr("path",r),i.isSelected(e)){var h=i._getOffset(u,l,10);e.attr("transform","t"+h.x+" "+h.y)}}),e.set("animHadler",u)},pointToFactorPath:function(e,t){var i,r,a=this,n=a.get("startAngle");return i=e.startAngle,r=e.endAngle,a._getPiePath(n+(i-n)*t,n+(r-n)*t)},_getPiePath:function(e,t){var i,r=this,a=r.getCenter(),n=a.x,s=a.y,c=r.getRadius(),o=r.getInnerRadius(),u=n+c*Math.cos(e*f),l=n+c*Math.cos(t*f),h=s+c*Math.sin(e*f),g=s+c*Math.sin(t*f);if(o){var d=n+o*Math.cos(e*f),m=n+o*Math.cos(t*f),v=s+o*Math.sin(e*f),p=s+o*Math.sin(t*f);i=[],t-e==360?(i.push(["M",n,s-c]),i.push(["a",c,c,0,1,1,0,2*c]),i.push(["a",c,c,0,1,1,0,-2*c]),i.push(["M",n,s-o]),i.push(["a",o,o,0,1,0,0,2*o]),i.push(["a",o,o,0,1,0,0,-2*o]),i.push(["z"])):(i.push(["M",d,v]),i.push(["L",u,h]),i.push(["A",c,c,0,+(t-e>180),1,l,g]),i.push(["L",m,p]),i.push(["A",o,o,0,+(t-e>180),0,d,v]),i.push(["z"]))}else i=t-e==360?[["M",n,s-c],["a",c,c,0,1,1,0,2*c],["a",c,c,0,1,1,0,-2*c],["z"]]:["M",n,s,"L",u,h,"A",c,c,0,+(t-e>180),1,l,g,"z"];return i},_getOffset:function(e,t,i){var r,a={};return null==i?(r=e,i=t):r=e+(t-e)/2,a.x=i*Math.cos(r*f),a.y=i*Math.sin(r*f),a},setItemSelected:function(e,t){var i,r=this,a=e.get("point"),n=r.get("changeDuration");t?(i=r._getOffset(a.startAngle,a.endAngle,10),e.animate({transform:"t"+i.x+" "+i.y},n)):e.animate({transform:"t0 0"},n),e.set("selected",t)}}),i.exports=p}),define("bui-chart/1.1.0/src/mixin/actived",["jquery","bui-common/1.1.0/common"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=function(){};a.ATTRS={actived:{value:!1}},r.augment(a,{isActived:function(){return this.get("actived")},setActived:function(){this.setActiveStatus(!0),this.set("actived",!0)},setActiveStatus:function(){},clearActived:function(){this.setActiveStatus(!1),this.set("actived",!1),this.clearActivedItem&&this.clearActivedItem()}}),i.exports=a}),define("bui-chart/1.1.0/src/markers",["jquery","bui-common/1.1.0/common","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/mixin/activedgroup","bui-chart/1.1.0/src/plotitem"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-graphic/1.1.0/index").Util,n=e("bui-chart/1.1.0/src/mixin/activedgroup"),s=e("bui-chart/1.1.0/src/plotitem"),c=function(e){c.superclass.constructor.call(this,e)};r.extend(c,s),r.mixin(c,[n]),c.ATTRS={elCls:{value:"x-chart-markers"},zIndex:{value:6},marker:{},actived:{},single:{value:!1},xCache:{value:[],shared:!1}},r.augment(c,{renderUI:function(){var e=this;c.superclass.renderUI.call(e),e._drawMarkers()},isItemActived:function(e){return e.get("actived")},setItemActived:function(e,t){var i=this,r=i.get("marker"),a=i.get("actived"),n=i.get("single");t?(e.attr(a),e.set("actived",!0),n&&!e.get("visible")&&e.show()):(e.attr(r),e.set("actived",!1),n&&e.hide())},change:function(e){var t=this,i=t.get("children"),n=[];if(!t.get("single")){t.set("items",e),r.each(e,function(e,r){var s=i[r];s?(a.svg?s.animate({x:e.x,y:e.y},400):s.attr(e),n.push(e.x)):t._addMarker(e)});for(var s=t.getCount(),c=s-1;c>e.length-1;c--)t.getChildAt(c).remove();t.set("xCache",n)}},_drawMarkers:function(){var e=this,t=e.get("single"),i=e.get("items");t&&(i=[{x:0,y:0,visible:!1}]),r.each(i,function(t){e._addMarker(t)})},addMarker:function(e){return this._addMarker(e)},_addMarker:function(e){var t=this,i=t.get("xCache"),a=t.get("marker"),n=r.merge(a,e);return i.push(parseInt(e.x)),t.addShape("marker",n)},getSnapMarker:function(e,t){var i,n=this,s=n.get("xCache"),c=n.get("single");if(c)return n.getChildAt(0);if(r.isObject(e)){var o=n.get("children");r.each(o,function(t){return t.attr("x")==e.x&&t.attr("y")==e.y?(i=t,!1):void 0})}else{var u=a.snapTo(s,e,t),l=r.Array.indexOf(u,s);i=n.getChildAt(l)}return i}}),i.exports=c}),define("bui-chart/1.1.0/src/series/cartesian",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/series/base","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/mixin/activedgroup"],function(e,t,i){function r(e){return n.isNumber(e)?e:(n.isString(e)?(e=e.replace(/'-'/gi,"/"),e=new Date(e).getTime()):n.isDate(e)&&(e=e.getTime()),e)}function a(e){a.superclass.constructor.call(this,e)}var n=e("bui-common/1.1.0/common"),s=e("bui-chart/1.1.0/src/series/base"),c=e("bui-graphic/1.1.0/index").Util;a.ATTRS={pointInterval:{},pointStart:{value:0},xAxis:{},yAxis:{},pointsCache:{shared:!1,value:{}}},n.extend(a,s),n.augment(a,{getPoint:function(e,t){var i=this,a=i.get("xAxis"),s=i.get("yAxis"),c=i.parseYValue(t),o={};return"time"==a.get("type")&&(e=r(e)),i.isInCircle()?o=s.getPointByAngle(e,c):(o.x=a.getOffset(e),o.y=s.getOffset(c)),n.mix(o,{yValue:c,xValue:e,value:t}),o},changeData:function(e,t){this.set("pointsCache",{}),a.superclass.changeData.call(this,e,t)},getPointByObject:function(e){var t=this,i=t.get("xField"),r=t.get("yField"),a=t.getPoint(e[i],e[r]);return a.value=e[r],a.xValue=e[i],a.yValue=t.parseYValue(e[r]),a.obj=e,a},getPointByValue:function(e,t){return this.getPoint(e,t)},parseYValue:function(e){return e},snapEqual:function(e,t){var i=this;if(n.isString(e))return e==t;var r=i.get("pointInterval");return r?Math.abs(e-t)<r/2:e==t},isInCircle:function(){return"circle"==this.get("xAxis").get("type")},getCircleCenter:function(){var e=this,t=e.get("xAxis"),i=null;return"circle"==t.get("type")&&(i=t.getCenter()),i},getCircle:function(){return this.isInCircle()?this.get("xAxis"):null},getData:function(e){var t=this,i=t.get("data"),r=t.get("pointsCache"),a=t.get("xAxis"),s=(i[0],[]),c=t.get("pointStart");if(e=e||"yAxis",r[e])return r[e];if("xAxis"!=e||null==c||"time"==a.get("type")&&0==c||!t.get("pointInterval")){var o=t.get("xField"),u=t.get("yField");n.each(i,function(t){if(n.isNumber(t)||n.isString(t))s.push(t);else if(n.isArray(t)){var i="yAxis"==e?t[1]:t[0];s.push(i)}else if(t){var i="yAxis"==e?t[u]:t[o];s.push(i)}})}else{var l=t.get("pointInterval");s.push(c),s.push(c+(i.length-1)*l)}return r[e]=s,s},getPointByIndex:function(e,t){var i,r,a=this,n=a.get("xAxis"),s=a.get("yAxis"),o=a.parseYValue(e),u=s.getOffset(o);if("number"==n.get("type")||"time"==n.get("type")){var l=a.get("pointStart"),h=a.get("pointInterval");i=n.getOffset(l+h*t)}else i=n.getOffsetByIndex(t);return a.isInCircle()?a.getPoint(i,e):(r=n.getValue(i),h&&(r=c.tryFixed(r,h)),{x:i,y:u,xValue:r,yValue:o,value:e})},getTrackingInfo:function(e){var t,i=this,r=i.get("xAxis");if(i.isInCircle()){var a=r.getCircleAngle(e.x,e.y);t=r.getValue(a)}else t=r.getValue(e.x);return i.findPointByValue(t)},getBaseValue:function(){var e=this,t=e.get("yAxis"),i=t.getOffset(0)||t.getStartOffset();return i}}),i.exports=a}),define("bui-chart/1.1.0/src/series/stacked",["jquery","bui-common/1.1.0/common"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=function(){};a.ATTRS={stackType:{value:"none"}},r.augment(a,{processStackedPoint:function(e,t){var i=this,r=i.getVisiblePrev();if(r){var a=r.getPoints()[t],n=i.getBaseValue();if(i.isInCircle()){var s,c=i.get("xAxis"),o=c.getDistance(e.x,e.y),u=a.r||c.getDistance(a.x,a.y);o=u+o,s=c.getCirclePoint(e.xValue,o),e.x=s.x,e.y=s.y,e.r=o,e.ir=u}else e.y=e.y+a.y-n;e.lowY=a.y,e.lowX=a.x}},getStackedPercent:function(e,t){var i=this,r=i.get("parent").getStackedData(i.get("yAxis"),"yAxis"),a=r[t];return a?e/a:0/0},parseYValue:function(e){var t,i=this,a=i.get("stackType"),n=i.get("data"),s=r.Array.indexOf(e,n);return"percent"==a&&(t=i.getStackedPercent(e,s),e=100*t),e},getVisiblePrev:function(){var e,t=this,i=t.get("parent"),a=t.get("yAxis"),n=i.get("children");return r.each(n,function(i){return i==t?!1:void(i.get("visible")&&i.get("yAxis")==a&&(e=i))}),e},getTipItem:function(e){var t=this,i=t.get("stackType");if("percent"==i){var r=e.yValue||0;return[e.value,"（"+r.toFixed(2)+"%）"]}return e.value},isStacked:function(){var e=this,t=e.get("stackType");return t&&"none"!==t}}),i.exports=a}),define("bui-chart/1.1.0/src/series/itemgroup",["jquery","bui-common/1.1.0/common","bui-chart/1.1.0/src/series/base","bui-graphic/1.1.0/index","bui-chart/1.1.0/src/plotitem","bui-chart/1.1.0/src/mixin/showlabels","bui-chart/1.1.0/src/mixin/actived","bui-chart/1.1.0/src/markers","bui-chart/1.1.0/src/labels","bui-chart/1.1.0/src/mixin/activedgroup"],function(e,t,i){var r=e("bui-common/1.1.0/common"),a=e("bui-chart/1.1.0/src/series/base"),n=e("bui-graphic/1.1.0/index").Util,s=function(){};s.ATTRS={item:{},group:{},allowPointSelect:{value:!1},cancelSelect:{value:!0}},r.extend(s,a),r.augment(s,{addItem:function(e,t){var i,r=this,a=r.get("group");if(null!=e.value){null==t&&(t=r.getItems().length),a||(a=r.addGroup(),r.set("group",a)),i=r.getItemCfg(e,t),i.path=r.get("animate")?r.pointToFactorPath(e,0):r.pointToPath(e);var n=a.addShape("path",i);return n.isSeriesItem=!0,n.set("point",e),n}},bindItemClick:function(){var e=this,t=e.get("cancelSelect");e.on("click",function(i){var r,a=i.target,n=a.shape;n&&n.isSeriesItem&&(e.get("allowPointSelect")&&(r=n.get("selected"),t&&r?e.clearSelected(n):e.setSelected(n)),e.fireUpGroup("click",n))})},setSelected:function(e){var t=this;t.isSelected(e)||(t.clearSelected(),t.setItemSelected(e,!0),t.onSelected(e))},changePoints:function(e){var t=this,i=t.getItems(),a=t.get("animate");e=e||t.getPoints(),r.each(i,function(i,r){var n,s,c=e[r];c&&(n=i.get("point"),i.set("point",c),i.set("prePoint",n),a?t.animateItem(i,n):(s=t.pointToPath(c),i.attr("path",s)))});for(var n=e.length,s=i.length,c=s;n>c;c++){var o=t.addItem(e[c],c);a&&t.animateItem(o,i[s-1].get("prePoint"))}for(var c=s-1;c>=n;c--){var u=i[c];u.remove()}},onSelected:function(e){this.fireUpGroup("selected",e)},onUnSelected:function(e){this.fireUpGroup("unselected",e)},clearSelected:function(e){var t=this;e=e||t.getSelected(),e&&(t.setItemSelected(e,!1),t.onUnSelected(e))},setItemSelected:function(){},isSelected:function(e){return e&&e.get("selected")},getSelected:function(){var e,t=this,i=t.getItems();return r.each(i,function(i){return t.isSelected(i)?(e=i,!1):void 0}),e},getItemCfg:function(e){var t=this,i=t.get("item"),a=e.obj,n={};return r.mix(n,i),a&&a.attrs&&r.mix(n,a.attrs),n},getItems:function(){var e=this.get("group");return e?e.get("children"):[]},animateItems:function(e){var t=this,i=t.getItems();n.animStep(t.get("duration"),function(e){r.each(i,function(i){var r=i.get("point"),a=t.pointToFactorPath(r,e);i.attr("path",a)})},e)},animateItem:function(e){var t=this,i=e.get("point"),r=t.pointToPath(i);e.animate({path:r},t.get("changeDuration"))},removeItem:function(e){var t=this;t.removeLabel(e),e.remove()},removeLabel:function(e){var t=e.get("label");t&&t.remove()},pointToFactorPath:function(){},pointToPath:function(e){return this.pointToFactorPath(e,1)}}),i.exports=s});